Node-RED Deploy
2/21/2023, 8:49:35 PMnode: d3578ffb1393b1c6
SELECT GrowDay FROM LabReport WHERE id = '3'ORDER BY GrowDay DESC; : msg.payload : undefined
undefined
2/21/2023, 8:49:38 PMnode: Lab Reports
SELECT * FROM LabReport WHERE GrowDay = '13' and Id = '3' ORDER BY DATE DESC LIMIT 1; : msg.payload : array[1]
[ object ]
2/21/2023, 8:51:32 PMnode: LogOutput
msg.payload : Object
{ ip: "192.168.3.146", jpeg: "/9j/4AAQSkZJRgABAQAAAQABAAD/2w…", id: "AAAAAA000069", timestamp: "2023-02-22 01:51:31" }
2/21/2023, 8:51:32 PMnode: Incorrect Time
msg.payload : Object
{ ip: "192.168.3.146", jpeg: "/9j/4AAQSkZJRgABAQAAAQABAAD/2w…", id: "69", timestamp: "2023-02-22 01:51:31" }
2/21/2023, 8:51:35 PMnode: LogOutput
msg.payload : Object
{ id: "aaaaaa000069", temp: "72.428", humidity: "30.12" }
2/21/2023, 8:51:36 PMnode: SQL Statement
INSERT INTO SensorData (Time, id, Moisture, Temp, Hum) VALUES (now(), 69, 0, 72.428, 30.12); : msg.payload : Object
{ id: "69", temp: "72.428", humidity: "30.12" }
2/21/2023, 8:51:37 PMnode: GrowDayCheck
SELECT GrowDay FROM LabReport WHERE id = '69'ORDER BY GrowDay DESC; : msg.payload : undefined
undefined
2/21/2023, 8:51:38 PMnode: Data Update
function : (error)
"TypeError: Cannot read property 'GrowDay' of undefined"
Export nodes
Export
[
    {
        "id": "4923636ceed817a8",
        "type": "tab",
        "label": "Multi Sensor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a9d6a1e5.18f9e",
        "type": "tab",
        "label": "API ",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f739ade423c85ba0",
        "type": "tab",
        "label": "AutoBud",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5f45bc47afcd40d8",
        "type": "tab",
        "label": "Grow Manager",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2b89647bfa253dc4",
        "type": "tab",
        "label": "Image Viewer",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "157fd334cea74952",
        "type": "tab",
        "label": "LabReport",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c40b2288adab42ec",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "eab51e4cdb5152a3",
        "type": "subflow",
        "name": "Shutdown/Reboot",
        "info": "",
        "in": [
            {
                "x": 53,
                "y": 99,
                "wires": [
                    {
                        "id": "237028f81185c95c"
                    }
                ]
            }
        ],
        "out": []
    },
    {
        "id": "c5ee7d10.742bd",
        "type": "MySQLdatabase",
        "name": "",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "autobud",
        "tz": "",
        "charset": "UTF8"
    },
    {
        "id": "b52a0b28eeb752b1",
        "type": "ui_group",
        "name": "Grow Info",
        "tab": "579e014c5f7e0574",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "483fbcce35a01e03",
        "type": "ui_group",
        "name": "History",
        "tab": "579e014c5f7e0574",
        "order": 3,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "579e014c5f7e0574",
        "type": "ui_tab",
        "name": "AutoBud",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "28600c9d83e004d7",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#6d7578",
                "baseFont": "Times New Roman,Times,serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Autobud",
                "default": "#4B7930",
                "baseColor": "#a1a1a1",
                "baseFont": "Times New Roman,Times,serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#a1a1a1",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#a1a1a1",
                    "edited": true
                },
                "page-backgroundColor": {
                    "value": "#ffffff",
                    "edited": true
                },
                "page-sidebar-backgroundColor": {
                    "value": "#a1a1a1",
                    "edited": true
                },
                "group-textColor": {
                    "value": "#000000",
                    "edited": true
                },
                "group-borderColor": {
                    "value": "#000000",
                    "edited": true
                },
                "group-backgroundColor": {
                    "value": "#a1a1a1",
                    "edited": true
                },
                "widget-textColor": {
                    "value": "#000000",
                    "edited": true
                },
                "widget-backgroundColor": {
                    "value": "#000000",
                    "edited": true
                },
                "widget-borderColor": {
                    "value": "#a1a1a1",
                    "edited": true
                },
                "base-font": {
                    "value": "Times New Roman,Times,serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Autobud Datacenter",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "false",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "13496b1778a0bfa4",
        "type": "ui_tab",
        "name": "Grow Manager",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "3d49467068d0b75e",
        "type": "ui_group",
        "name": "View Grows",
        "tab": "13496b1778a0bfa4",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "df0d2097046bd1b8",
        "type": "ui_group",
        "name": "Data",
        "tab": "579e014c5f7e0574",
        "order": 2,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a7c1ab955d02f073",
        "type": "ui_spacer",
        "z": "f739ade423c85ba0",
        "name": "spacer",
        "group": "483fbcce35a01e03",
        "order": 4,
        "width": 10,
        "height": 1
    },
    {
        "id": "d9fc1c423cf0799c",
        "type": "ui_spacer",
        "z": "f739ade423c85ba0",
        "name": "spacer",
        "group": "df0d2097046bd1b8",
        "order": 3,
        "width": 10,
        "height": 1
    },
    {
        "id": "7a513b4e3bc14dd1",
        "type": "MySQLdatabase",
        "name": "datagrow",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "datagrow",
        "tz": ""
    },
    {
        "id": "1821a93901d2c54e",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "f48b1720a466786c",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "cryogrow",
        "tz": ""
    },
    {
        "id": "ce32e7477b70193e",
        "type": "mqtt-broker",
        "name": "MQTT Out",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "badf783bafafe457",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "mqtt",
        "tz": ""
    },
    {
        "id": "77c94e4e2e87845d",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "MQTTWrite",
        "tz": ""
    },
    {
        "id": "24773f32d433630f",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "VuSensor",
        "tz": ""
    },
    {
        "id": "5afdde6cb6070a2c",
        "type": "mqtt-broker",
        "broker": "croft.thethings.girovito.nl",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "verifyservercert": true,
        "compatmode": true,
        "keepalive": "15",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": null,
        "birthPayload": "",
        "willTopic": "",
        "willQos": "0",
        "willRetain": null,
        "willPayload": ""
    },
    {
        "id": "fd03f5f362af826b",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "3719772d167bbcb8",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "76779f2efbb7fbf8",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "737005293a3662da",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "cryogrow",
        "tz": ""
    },
    {
        "id": "21ac0eec87dd05c6",
        "type": "mqtt-broker",
        "name": "MQTT Out",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "9494a9b8d3ab7a79",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "mqtt",
        "tz": ""
    },
    {
        "id": "265462007e852515",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "MQTTWrite",
        "tz": ""
    },
    {
        "id": "a3a58ba9a12262b8",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "VuSensor",
        "tz": ""
    },
    {
        "id": "5beb15113f0506be",
        "type": "mqtt-broker",
        "broker": "croft.thethings.girovito.nl",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "verifyservercert": true,
        "compatmode": true,
        "keepalive": "15",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": null,
        "birthPayload": "",
        "willTopic": "",
        "willQos": "0",
        "willRetain": null,
        "willPayload": ""
    },
    {
        "id": "394aaa8c62a71c06",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "31a7dcd31f7e8d5e",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "af5c11079257d210",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "335842d4adba776e",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "cryogrow",
        "tz": ""
    },
    {
        "id": "1c975a0ecfcc80d0",
        "type": "mqtt-broker",
        "name": "MQTT Out",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "afc6595f7ac5f866",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "mqtt",
        "tz": ""
    },
    {
        "id": "11df377fd43ec2ef",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "MQTTWrite",
        "tz": ""
    },
    {
        "id": "a3a27e8741b3b2bb",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "VuSensor",
        "tz": ""
    },
    {
        "id": "98f4992de8635d68",
        "type": "mqtt-broker",
        "broker": "croft.thethings.girovito.nl",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "verifyservercert": true,
        "compatmode": true,
        "keepalive": "15",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": null,
        "birthPayload": "",
        "willTopic": "",
        "willQos": "0",
        "willRetain": null,
        "willPayload": ""
    },
    {
        "id": "c1b82ace3ce2799c",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "aa215edf6d94e25d",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "2bf14c4c547b357d",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "93727e27e66b9b06",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "cryogrow",
        "tz": ""
    },
    {
        "id": "69816ef178b9bf75",
        "type": "mqtt-broker",
        "name": "MQTT Out",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "939fd77206d2404a",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "mqtt",
        "tz": ""
    },
    {
        "id": "ca59b4125209b887",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "MQTTWrite",
        "tz": ""
    },
    {
        "id": "a4586c19fda881ea",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "VuSensor",
        "tz": ""
    },
    {
        "id": "53d291226822e3be",
        "type": "mqtt-broker",
        "broker": "croft.thethings.girovito.nl",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "verifyservercert": true,
        "compatmode": true,
        "keepalive": "15",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": null,
        "birthPayload": "",
        "willTopic": "",
        "willQos": "0",
        "willRetain": null,
        "willPayload": ""
    },
    {
        "id": "3023a97744f2dbc0",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "64ffd5b99b654518",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "43aa0f977c8ac895",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "110ca356365b4364",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "cryogrow",
        "tz": ""
    },
    {
        "id": "645719b9450888d2",
        "type": "mqtt-broker",
        "name": "MQTT Out",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "b97912787ba4a3b8",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "mqtt",
        "tz": ""
    },
    {
        "id": "d9bf8bacfea5330b",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "MQTTWrite",
        "tz": ""
    },
    {
        "id": "e57dbecca0320e9d",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "VuSensor",
        "tz": ""
    },
    {
        "id": "a56adbcd49632037",
        "type": "mqtt-broker",
        "broker": "croft.thethings.girovito.nl",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "verifyservercert": true,
        "compatmode": true,
        "keepalive": "15",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": null,
        "birthPayload": "",
        "willTopic": "",
        "willQos": "0",
        "willRetain": null,
        "willPayload": ""
    },
    {
        "id": "8d5caa56492e23a6",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "84ae4a6d2612fd9e",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "b4d81fcf5c790a4b",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "85dc7fa8602decd1",
        "type": "MySQLdatabase",
        "name": "",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "datagrow",
        "tz": ""
    },
    {
        "id": "43133f7be9b63b06",
        "type": "mqtt-broker",
        "name": "MQTT Out",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "9b8983446a695fe2",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "mqtt",
        "tz": ""
    },
    {
        "id": "932a29d13fc1e359",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "MQTTWrite",
        "tz": ""
    },
    {
        "id": "aa328a822fcf30f0",
        "type": "MySQLdatabase",
        "host": "180.11.6.69",
        "port": "3306",
        "db": "VuSensor",
        "tz": ""
    },
    {
        "id": "c7e693a181770675",
        "type": "mqtt-broker",
        "broker": "croft.thethings.girovito.nl",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "verifyservercert": true,
        "compatmode": true,
        "keepalive": "15",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": null,
        "birthPayload": "",
        "willTopic": "",
        "willQos": "0",
        "willRetain": null,
        "willPayload": ""
    },
    {
        "id": "2030a99aca45396c",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "0312d500193469d3",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "2cd38b74ec96f3c0",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "servicetools",
        "tz": ""
    },
    {
        "id": "1cb06dcd467f26fc",
        "type": "ui_group",
        "name": "Grow Management",
        "tab": "13496b1778a0bfa4",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "fb1185f84c7f1afd",
        "type": "ui_group",
        "name": "Server Control",
        "tab": "13496b1778a0bfa4",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "42027b84316c8414",
        "type": "ui_tab",
        "name": "Lab Report",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ebda4e5d54ccaa51",
        "type": "ui_group",
        "name": "Lab Report",
        "tab": "42027b84316c8414",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e4cc1e34b44af565",
        "type": "ui_tab",
        "name": "Grow Images",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "c2a0f213add983ef",
        "type": "ui_group",
        "name": "Grow 1 Historical",
        "tab": "e4cc1e34b44af565",
        "order": 1,
        "disp": true,
        "width": 16,
        "collapse": false,
        "className": ""
    },
    {
        "id": "6c0a52262e33dd62",
        "type": "ui_group",
        "name": "Grow 2 Historical",
        "tab": "e4cc1e34b44af565",
        "order": 2,
        "disp": true,
        "width": 16,
        "collapse": false,
        "className": ""
    },
    {
        "id": "d368924ae2b6cbfb",
        "type": "ui_tab",
        "name": "Lab Report",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "a96af633cd0ad4fc",
        "type": "ui_group",
        "name": "Default",
        "tab": "d368924ae2b6cbfb",
        "order": 1,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "bbc3532f.41ca7",
        "type": "ui_group",
        "name": "Bathroom",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "c4988483202fb8d0",
        "type": "ui_toast",
        "z": "eab51e4cdb5152a3",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "outputs": 1,
        "ok": "OK",
        "cancel": "Cancel",
        "topic": "",
        "name": "confirm",
        "x": 422,
        "y": 107,
        "wires": [
            [
                "8d7cdef82df279ee"
            ]
        ]
    },
    {
        "id": "237028f81185c95c",
        "type": "function",
        "z": "eab51e4cdb5152a3",
        "name": "Prepare confirmation",
        "func": "/* Given a payload containing \n * host: string containing host name or ip\n * user: user name to use to ssh into the host\n * description: optional string conatining description of host\n * reboot: optional true/false flag to indicate whether to reboot (true) or shutdown\n * defaults to shutdown\n * formats the data ready to be passed to notification node for OK/Cancel\n*/\nvar mode;       // mode for user display\nvar shMode;     // mode passed to shutdown\n\nif (msg.payload.reboot === true) {\n    mode = \"reboot\";\n    shMode = \"-r\";\n} else {\n    mode = \"shutdown\";\n    shMode = \"-h\";\n}\n// these will be passed through the notification node\nmsg.shMode = shMode;\nmsg.host = msg.payload.host;\nmsg.user = msg.payload.user;\n\nmsg.topic = \"Confirm \" + mode + \" \" + msg.payload.host;\nmsg.payload = msg.payload.description;    // may be undefined\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 227,
        "y": 107,
        "wires": [
            [
                "c4988483202fb8d0"
            ]
        ]
    },
    {
        "id": "8d7cdef82df279ee",
        "type": "switch",
        "z": "eab51e4cdb5152a3",
        "name": "Ignore Cancel",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "outputs": 1,
        "x": 589,
        "y": 106,
        "wires": [
            [
                "8c8e32858f11d835"
            ]
        ]
    },
    {
        "id": "8c8e32858f11d835",
        "type": "change",
        "z": "eab51e4cdb5152a3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "'ssh ' & user & '@' & host & \t\" 'sudo shutdown \" & shMode & \" now'\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 257,
        "y": 188,
        "wires": [
            [
                "f0d2d95872d98c30"
            ]
        ]
    },
    {
        "id": "f0d2d95872d98c30",
        "type": "exec",
        "z": "eab51e4cdb5152a3",
        "command": "",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "20",
        "oldrc": false,
        "name": "Shutdown/Reboot",
        "x": 513,
        "y": 188.5,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "27a6be4ced070150",
        "type": "comment",
        "z": "4923636ceed817a8",
        "name": "API For MultiSensor",
        "info": "",
        "x": 130,
        "y": 120,
        "wires": []
    },
    {
        "id": "55cef925c7e742d4",
        "type": "http in",
        "z": "4923636ceed817a8",
        "name": "",
        "url": "multisensor",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 110,
        "y": 160,
        "wires": [
            [
                "3baebd2b97f87557",
                "0b551dfb249a7b6b",
                "91e0333462549f1b"
            ]
        ]
    },
    {
        "id": "3baebd2b97f87557",
        "type": "template",
        "z": "4923636ceed817a8",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n{{{payload}}}\n",
        "x": 180,
        "y": 240,
        "wires": [
            [
                "02680165ce5de349"
            ]
        ]
    },
    {
        "id": "02680165ce5de349",
        "type": "http response",
        "z": "4923636ceed817a8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 330,
        "y": 240,
        "wires": []
    },
    {
        "id": "ef90a29d38d499a7",
        "type": "mysql",
        "z": "4923636ceed817a8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1250,
        "y": 640,
        "wires": [
            [
                "03001c844710b6e2"
            ]
        ]
    },
    {
        "id": "3c7dee17e10beadd",
        "type": "debug",
        "z": "4923636ceed817a8",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1330,
        "y": 460,
        "wires": []
    },
    {
        "id": "7b1a324a0357976d",
        "type": "http in",
        "z": "4923636ceed817a8",
        "name": "",
        "url": "sensor_config_url",
        "method": "get",
        "upload": true,
        "swaggerDoc": "",
        "x": 160,
        "y": 400,
        "wires": [
            [
                "90ff778acc57c130"
            ]
        ]
    },
    {
        "id": "00f89299d0d26fb5",
        "type": "http in",
        "z": "4923636ceed817a8",
        "name": "",
        "url": "gateway_config_url",
        "method": "get",
        "upload": true,
        "swaggerDoc": "",
        "x": 170,
        "y": 440,
        "wires": [
            [
                "6e35a6a82c5f49c5"
            ]
        ]
    },
    {
        "id": "6e35a6a82c5f49c5",
        "type": "template",
        "z": "4923636ceed817a8",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "{\n    \"channel\": 69,\n    \"debug\": 1,\n    \"url_models\": \"https://localhost/\",\n    \"url_count\": \"http://192.168.0.204:1880/multisensor\",\n    \"url_process\": \"https://localhost/detection\",\n    \"url_firmware\": \"https://localhost/\",\n    \"mvmt_threshold\": 0.75,\n    \"reboot\": 0,\n    \"sensors\": \"*\",\n    \"power\": 3,\n    \"device_access\": 0,\n    \"asset_enabled\": 0\n}",
        "output": "json",
        "x": 400,
        "y": 440,
        "wires": [
            [
                "78288a5dcb6ab611"
            ]
        ]
    },
    {
        "id": "78288a5dcb6ab611",
        "type": "http response",
        "z": "4923636ceed817a8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 590,
        "y": 440,
        "wires": []
    },
    {
        "id": "8aa0a908ef7b4a83",
        "type": "template",
        "z": "4923636ceed817a8",
        "name": "ID 1",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "{\"Id\":3592,\"SensorId\":\"aaaaaa000001\",\"quantization\":12,\"activities_interval\":30,\"debug\":0,\"image_upload\":1,\"exposure\":10,\"model\":\"\",\"retry\":1,\"mode\":2,\"start_time\":\"1100\",\"end_time\":\"0300\",\"url_firmware\":\"\",\"status\":null,\"channel\":69,\"power\":3,\"camera_mask\":\"11111\",\"ParentSensorId\":null,\"nearest_1\":null,\"nearest_2\":null,\"nearest_3\":null,\"acr\":0,\"BatteryTypeId\":2,\"re_battery\":0,\"re_battery_date\":null,\"is_over_active\":0,\"used_amp_hours\":null,\"sensor_mode\":null,\"activeDays\":0}",
        "output": "json",
        "x": 810,
        "y": 200,
        "wires": [
            [
                "2e5f50ae3fafb2b4"
            ]
        ]
    },
    {
        "id": "2e5f50ae3fafb2b4",
        "type": "http response",
        "z": "4923636ceed817a8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1090,
        "y": 200,
        "wires": []
    },
    {
        "id": "c7a73324dbdce586",
        "type": "function",
        "z": "4923636ceed817a8",
        "name": "Data Insert",
        "func": "dataId = msg.payload.id;\ndataImg = msg.payload.jpeg;\nmsg.topic = \n/*INSERT INTO Status (Id) VALUES (\" + dataId + \");\"*/\n\"INSERT INTO ImgDir (Date, Id, img) VALUES (now(), \" + dataId + \", '\" + dataImg +\"');\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 640,
        "wires": [
            [
                "ef90a29d38d499a7"
            ]
        ]
    },
    {
        "id": "6cd54da2f8a2cc46",
        "type": "comment",
        "z": "4923636ceed817a8",
        "name": "API For MultiSensor Images",
        "info": "",
        "x": 180,
        "y": 620,
        "wires": []
    },
    {
        "id": "215c5d7e186db0c8",
        "type": "http in",
        "z": "4923636ceed817a8",
        "name": "",
        "url": "multisensorimg",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 140,
        "y": 660,
        "wires": [
            [
                "88942a4fb451ce47",
                "36e63a7c40eca8e2",
                "6b6783ce0703f929"
            ]
        ]
    },
    {
        "id": "88942a4fb451ce47",
        "type": "template",
        "z": "4923636ceed817a8",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n{{{payload}}}\n",
        "x": 300,
        "y": 720,
        "wires": [
            [
                "96e78e3b32889f12"
            ]
        ]
    },
    {
        "id": "96e78e3b32889f12",
        "type": "http response",
        "z": "4923636ceed817a8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 470,
        "y": 720,
        "wires": []
    },
    {
        "id": "03001c844710b6e2",
        "type": "debug",
        "z": "4923636ceed817a8",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1430,
        "y": 640,
        "wires": []
    },
    {
        "id": "59447dbea83afb8e",
        "type": "function",
        "z": "4923636ceed817a8",
        "name": "Data Insert",
        "func": "dataId = msg.payload.id;\ndataMsg = 0;\ndataTemp = msg.payload.temp;\ndataHum = msg.payload.humidity;\nmsg.topic = \n/*INSERT INTO Status (Id) VALUES (\" + dataId + \");\"*/\n\"INSERT INTO SensorData (Time, id, Moisture, Temp, Hum) VALUES (now(), \" + dataId + \", \" + dataMsg + \", \" + dataTemp + \", \" + dataHum + \");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 100,
        "wires": [
            [
                "59872db767fd36e8",
                "8c1c38a930b7c7f2"
            ]
        ]
    },
    {
        "id": "59872db767fd36e8",
        "type": "mysql",
        "z": "4923636ceed817a8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1290,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "56de6d113a2b0c8b",
        "type": "function",
        "z": "4923636ceed817a8",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload.id;\n\nif (auth == 01) {\n    return [msg,null,null,null,null,null];\n    \n}\n\nif (auth == 3) {\n    return [null,msg,null,null,null,null];\n    \n}\n\nif (auth == 7) {\n    return [null,null,msg,null,null,null];\n    \n}\n\nif (auth == 69) {\n    return [null,null,null,msg,null,null];\n    \n}\n\nif (auth == 2) {\n    return [null,null,null,null,msg,null];\n    \n}\n\nelse {\n    return [null,null,null,null,null,null];\n}\n//return msg;",
        "outputs": 6,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 340,
        "wires": [
            [
                "8aa0a908ef7b4a83"
            ],
            [
                "fb2c9b58f19285bf"
            ],
            [
                "ab6cebcfd0084d2b"
            ],
            [
                "d792fca0fd979031"
            ],
            [
                "47d63c764531e34b"
            ],
            []
        ]
    },
    {
        "id": "0b551dfb249a7b6b",
        "type": "change",
        "z": "4923636ceed817a8",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload.id",
                "pt": "msg",
                "from": "aaaaaa0000",
                "fromt": "str",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 140,
        "wires": [
            [
                "59447dbea83afb8e",
                "ff7315e08c2476e6"
            ]
        ]
    },
    {
        "id": "36e63a7c40eca8e2",
        "type": "change",
        "z": "4923636ceed817a8",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload.id",
                "pt": "msg",
                "from": "AAAAAA0000",
                "fromt": "str",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 640,
        "wires": [
            [
                "db96ac17b847e87c"
            ]
        ]
    },
    {
        "id": "91e0333462549f1b",
        "type": "debug",
        "z": "4923636ceed817a8",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1330,
        "y": 380,
        "wires": []
    },
    {
        "id": "90ff778acc57c130",
        "type": "change",
        "z": "4923636ceed817a8",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload.id",
                "pt": "msg",
                "from": "AAAAAA0000",
                "fromt": "str",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 340,
        "wires": [
            [
                "56de6d113a2b0c8b"
            ]
        ]
    },
    {
        "id": "fb2c9b58f19285bf",
        "type": "template",
        "z": "4923636ceed817a8",
        "name": "ID 3",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "{\"Id\":3592,\"SensorId\":\"aaaaaa000003\",\"quantization\":12,\"activities_interval\":30,\"debug\":0,\"image_upload\":1,\"exposure\":10,\"model\":\"\",\"retry\":1,\"mode\":1,\"start_time\":\"1100\",\"end_time\":\"0300\",\"url_firmware\":\"\",\"status\":null,\"channel\":69,\"power\":3,\"camera_mask\":\"11111\",\"ParentSensorId\":null,\"nearest_1\":null,\"nearest_2\":null,\"nearest_3\":null,\"acr\":0,\"BatteryTypeId\":2,\"re_battery\":0,\"re_battery_date\":null,\"is_over_active\":0,\"used_amp_hours\":null,\"sensor_mode\":null,\"activeDays\":0}",
        "output": "json",
        "x": 810,
        "y": 240,
        "wires": [
            [
                "2e5f50ae3fafb2b4",
                "3c7dee17e10beadd"
            ]
        ]
    },
    {
        "id": "db96ac17b847e87c",
        "type": "function",
        "z": "4923636ceed817a8",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload.id;\n\nif (auth > 0) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 640,
        "wires": [
            [
                "21c068226c9603c4"
            ],
            [
                "3c7dee17e10beadd"
            ]
        ]
    },
    {
        "id": "7d55e47e62536319",
        "type": "function",
        "z": "4923636ceed817a8",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload.id;\n\nif (auth == 14) {\n    return [msg,null,null];\n    \n}\n\nif (auth == 16) {\n    return [null,msg,null];\n    \n}\n\nelse {\n    return [null,null,null];\n}\n//return msg;",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 40,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "389813760cf3e8c8",
        "type": "template",
        "z": "4923636ceed817a8",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "{\n    \"channel\": 69,\n    \"debug\": 1,\n    \"url_models\": \"https://sqaapi.avuity.com/vuspace-api/firmware/vusensor/HumanDetectionV1.zip\",\n    \"url_count\": \"http://192.168.0.204:1880/multisensor\",\n    \"url_process\": \"https://localhost/detection\",\n    \"url_firmware\": \"https://sqaapi.avuity.com/vuspace-api/firmware/vusensor/firmware_v190827.zip\",\n    \"mvmt_threshold\": 0.75,\n    \"reboot\": 0,\n    \"sensors\": \"*\",\n    \"power\": 3,\n    \"device_access\": 0,\n    \"asset_enabled\": 0\n}",
        "output": "json",
        "x": 380,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "ab6cebcfd0084d2b",
        "type": "template",
        "z": "4923636ceed817a8",
        "name": "7",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "{\"Id\":3592,\"SensorId\":\"aaaaaa000007\",\"quantization\":12,\"activities_interval\":30,\"debug\":0,\"image_upload\":1,\"exposure\":10,\"model\":\"\",\"retry\":1,\"mode\":1,\"start_time\":\"1100\",\"end_time\":\"0300\",\"url_firmware\":\"\",\"status\":null,\"channel\":69,\"power\":3,\"camera_mask\":\"11111\",\"ParentSensorId\":null,\"nearest_1\":null,\"nearest_2\":null,\"nearest_3\":null,\"acr\":0,\"BatteryTypeId\":2,\"re_battery\":0,\"re_battery_date\":null,\"is_over_active\":0,\"used_amp_hours\":null,\"sensor_mode\":null,\"activeDays\":0}",
        "output": "json",
        "x": 810,
        "y": 280,
        "wires": [
            [
                "2e5f50ae3fafb2b4",
                "7fa4bc7f5cd67ce3"
            ]
        ]
    },
    {
        "id": "b6f915caeadeed79",
        "type": "debug",
        "z": "4923636ceed817a8",
        "name": "Incorrect Time",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1100,
        "y": 900,
        "wires": []
    },
    {
        "id": "21c068226c9603c4",
        "type": "function",
        "z": "4923636ceed817a8",
        "name": "Time Check",
        "func": "var d=new Date();\nvar auth = msg.payload.id;\nvar hours = d.getHours();\n\nif (hours == 12) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 760,
        "wires": [
            [
                "fade4f45d005389e",
                "c7a73324dbdce586"
            ],
            [
                "b6f915caeadeed79"
            ]
        ]
    },
    {
        "id": "fade4f45d005389e",
        "type": "debug",
        "z": "4923636ceed817a8",
        "name": "MESSAGE",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1090,
        "y": 780,
        "wires": []
    },
    {
        "id": "8c1c38a930b7c7f2",
        "type": "debug",
        "z": "4923636ceed817a8",
        "name": "SQL Statement",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1340,
        "y": 420,
        "wires": []
    },
    {
        "id": "6b6783ce0703f929",
        "type": "debug",
        "z": "4923636ceed817a8",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 510,
        "y": 900,
        "wires": []
    },
    {
        "id": "d792fca0fd979031",
        "type": "template",
        "z": "4923636ceed817a8",
        "name": "69",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "{\"Id\":3592,\"SensorId\":\"aaaaaa000069\",\"quantization\":12,\"activities_interval\":30,\"debug\":0,\"image_upload\":1,\"exposure\":10,\"model\":\"\",\"retry\":1,\"mode\":1,\"start_time\":\"1100\",\"end_time\":\"0300\",\"url_firmware\":\"\",\"status\":null,\"channel\":69,\"power\":3,\"camera_mask\":\"11111\",\"ParentSensorId\":null,\"nearest_1\":null,\"nearest_2\":null,\"nearest_3\":null,\"acr\":0,\"BatteryTypeId\":2,\"re_battery\":0,\"re_battery_date\":null,\"is_over_active\":0,\"used_amp_hours\":null,\"sensor_mode\":null,\"activeDays\":0}",
        "output": "json",
        "x": 810,
        "y": 320,
        "wires": [
            [
                "2e5f50ae3fafb2b4"
            ]
        ]
    },
    {
        "id": "ff7315e08c2476e6",
        "type": "function",
        "z": "4923636ceed817a8",
        "name": "GrowDayCheck",
        "func": "var grow = msg.payload.id;\ndata = grow;\nvar m = {\n topic : \"SELECT GrowDay FROM LabReport WHERE id =  \" + \"'\" + data + \"'\" + \"ORDER BY GrowDay DESC;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 60,
        "wires": [
            [
                "3bb46beded47a2f8",
                "bdd59fb879a51606"
            ]
        ]
    },
    {
        "id": "5a3f0716f17b8707",
        "type": "function",
        "z": "4923636ceed817a8",
        "name": "Clear Values",
        "func": "\ndataPH = 0;\ndataPPM = 0;\ndataNotes = 0;\ndataImage = 0;\n\n\nglobal.set(\"PH\",dataPH);\nglobal.set(\"PPM\",dataPPM);\nglobal.set(\"Notes\",dataNotes);\nglobal.set(\"Image\",dataImage);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1590,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "3bb46beded47a2f8",
        "type": "debug",
        "z": "4923636ceed817a8",
        "name": "GrowDayCheck",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 20,
        "wires": []
    },
    {
        "id": "bdd59fb879a51606",
        "type": "function",
        "z": "4923636ceed817a8",
        "name": "Data Update",
        "func": "\ndataGD = msg.payload.GrowDay;\nglobal.set(\"GD_SN\",dataGD);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 60,
        "wires": [
            [
                "3bb46beded47a2f8"
            ]
        ]
    },
    {
        "id": "47d63c764531e34b",
        "type": "template",
        "z": "4923636ceed817a8",
        "name": "ID 2",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "{\"Id\":3592,\"SensorId\":\"aaaaaa000002\",\"quantization\":12,\"activities_interval\":30,\"debug\":0,\"image_upload\":1,\"exposure\":10,\"model\":\"\",\"retry\":1,\"mode\":1,\"start_time\":\"1100\",\"end_time\":\"0300\",\"url_firmware\":\"\",\"status\":null,\"channel\":69,\"power\":3,\"camera_mask\":\"11111\",\"ParentSensorId\":null,\"nearest_1\":null,\"nearest_2\":null,\"nearest_3\":null,\"acr\":0,\"BatteryTypeId\":2,\"re_battery\":0,\"re_battery_date\":null,\"is_over_active\":0,\"used_amp_hours\":null,\"sensor_mode\":null,\"activeDays\":0}",
        "output": "json",
        "x": 810,
        "y": 360,
        "wires": [
            [
                "2e5f50ae3fafb2b4"
            ]
        ]
    },
    {
        "id": "7fa4bc7f5cd67ce3",
        "type": "debug",
        "z": "4923636ceed817a8",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1390,
        "y": 220,
        "wires": []
    },
    {
        "id": "f003c708.f1968",
        "type": "http in",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "url": "upload",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 110,
        "y": 100,
        "wires": [
            [
                "c5ea9efe.b0b778",
                "e51e3d6c.c7e5a8",
                "b5783ca7f70cef9a"
            ]
        ]
    },
    {
        "id": "c98c8ae1.75b188",
        "type": "comment",
        "z": "a9d6a1e5.18f9e",
        "name": "Web Listener to handle Data Uploads",
        "info": "",
        "x": 190,
        "y": 40,
        "wires": []
    },
    {
        "id": "e51e3d6c.c7e5a8",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Data Insert",
        "func": "dataId = msg.payload.Id;\ndataGrowDay = msg.payload.GrowDay;\ndataIP = msg.payload.Ip;\nmsg.topic = \n/*INSERT INTO Status (Id) VALUES (\" + dataId + \");\"*/\n\"INSERT INTO DailyLog (Date, Id, GrowDay, Ip) VALUES (now(), \" + dataId + \", \" + dataGrowDay + \", \" + \"'\" + dataIP + \"'\" + \");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 100,
        "wires": [
            [
                "7111495b.e194",
                "ebba243e.209c38"
            ]
        ]
    },
    {
        "id": "c5ea9efe.b0b778",
        "type": "template",
        "z": "a9d6a1e5.18f9e",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n{{{payload}}}\n",
        "x": 260,
        "y": 160,
        "wires": [
            [
                "47781d25.e1a664"
            ]
        ]
    },
    {
        "id": "47781d25.e1a664",
        "type": "http response",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 430,
        "y": 160,
        "wires": []
    },
    {
        "id": "7111495b.e194",
        "type": "mysql",
        "z": "a9d6a1e5.18f9e",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 850,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "ebba243e.209c38",
        "type": "debug",
        "z": "a9d6a1e5.18f9e",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 60,
        "wires": []
    },
    {
        "id": "7c325e91.9bd81",
        "type": "http in",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "url": "imgupload",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 120,
        "y": 580,
        "wires": [
            [
                "f2eaa285.4a804",
                "f943e7eb.1793c8",
                "1a37788fab45fe9a"
            ]
        ]
    },
    {
        "id": "2fc0f278.9b8cce",
        "type": "comment",
        "z": "a9d6a1e5.18f9e",
        "name": "Web Listener to handle Image Uploads",
        "info": "",
        "x": 190,
        "y": 540,
        "wires": []
    },
    {
        "id": "f2eaa285.4a804",
        "type": "template",
        "z": "a9d6a1e5.18f9e",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n{{{payload}}}\n",
        "x": 260,
        "y": 640,
        "wires": [
            [
                "bc5453a2.58a"
            ]
        ]
    },
    {
        "id": "bc5453a2.58a",
        "type": "http response",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 430,
        "y": 640,
        "wires": []
    },
    {
        "id": "e96a24c.1b3e5d8",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload.Id;\n\nif (auth < 1000) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 460,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "36c07fa.753848",
        "type": "debug",
        "z": "a9d6a1e5.18f9e",
        "name": "Auth",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1250,
        "y": 440,
        "wires": []
    },
    {
        "id": "e0282476.42b7b8",
        "type": "debug",
        "z": "a9d6a1e5.18f9e",
        "name": "Fail",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1110,
        "y": 660,
        "wires": []
    },
    {
        "id": "ece3ae1f.63146",
        "type": "exec",
        "z": "a9d6a1e5.18f9e",
        "command": "python3",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "Start Session",
        "x": 1140,
        "y": 560,
        "wires": [
            [
                "36c07fa.753848"
            ],
            [
                "36c07fa.753848"
            ],
            [
                "36c07fa.753848"
            ]
        ]
    },
    {
        "id": "f943e7eb.1793c8",
        "type": "change",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "msg.payload[0].Id",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 560,
        "wires": [
            [
                "4897eebb.26c35"
            ]
        ]
    },
    {
        "id": "4897eebb.26c35",
        "type": "change",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"/var/www/html/uploads/imguploader.py -i \" & payload & \"\" ",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 560,
        "wires": [
            [
                "ece3ae1f.63146",
                "36c07fa.753848"
            ]
        ]
    },
    {
        "id": "c72cb2bb.86657",
        "type": "http in",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "url": "log",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 80,
        "y": 800,
        "wires": [
            [
                "aa218128.88f6a",
                "e15874f4.045de8",
                "cab69c4e.a600e"
            ]
        ]
    },
    {
        "id": "fda34fe6.c0857",
        "type": "comment",
        "z": "a9d6a1e5.18f9e",
        "name": "Web Listener to handle log updates ",
        "info": "",
        "x": 180,
        "y": 760,
        "wires": []
    },
    {
        "id": "c39b5df2.65e04",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Data Insert",
        "func": "dataId = msg.payload.Id;\ndataMsg = msg.payload.msg;\ndataAmount = msg.payload.amt;\nmsg.topic = \n/*INSERT INTO Status (Id) VALUES (\" + dataId + \");\"*/\n\"INSERT INTO Logs (Time, id, Event, Amount) VALUES (now(), \" + dataId + \", \" + dataMsg + \", \" + dataAmount + \");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 850,
        "y": 800,
        "wires": [
            [
                "cd6c5be.fe9d8a8",
                "cab69c4e.a600e"
            ]
        ]
    },
    {
        "id": "aa218128.88f6a",
        "type": "template",
        "z": "a9d6a1e5.18f9e",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n{{{payload}}}\n",
        "x": 0,
        "y": 0,
        "wires": [
            [
                "328b62b7.3089ce"
            ]
        ]
    },
    {
        "id": "328b62b7.3089ce",
        "type": "http response",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 430,
        "y": 860,
        "wires": []
    },
    {
        "id": "e15874f4.045de8",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload.Id;\n\nif (auth < 70) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 330,
        "y": 800,
        "wires": [
            [
                "34c746b3.19554a"
            ],
            []
        ]
    },
    {
        "id": "cd6c5be.fe9d8a8",
        "type": "mysql",
        "z": "a9d6a1e5.18f9e",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1110,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "cab69c4e.a600e",
        "type": "debug",
        "z": "a9d6a1e5.18f9e",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1170,
        "y": 960,
        "wires": []
    },
    {
        "id": "a4671f75.c1c47",
        "type": "http in",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "url": "data",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 110,
        "y": 980,
        "wires": [
            [
                "550aa44e.a0e73c",
                "5fcfd79c.709d18",
                "f67b562a.3f4568"
            ]
        ]
    },
    {
        "id": "a5169ad9.484f68",
        "type": "comment",
        "z": "a9d6a1e5.18f9e",
        "name": "Web Listener to handle External Sensors",
        "info": "",
        "x": 200,
        "y": 940,
        "wires": []
    },
    {
        "id": "d6e6ffaf.580e2",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Data Insert",
        "func": "dataId = msg.payload.Id;\ndataMsg = msg.payload.msg;\nmsg.topic = \n/*INSERT INTO Status (Id) VALUES (\" + dataId + \");\"*/\n\"INSERT INTO SensorData (Time, id, Moisture, Type) VALUES (now(), \" + dataId + \", \" + dataMsg + \", \" + \"1\" + \");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 550,
        "y": 980,
        "wires": [
            [
                "bcae1048.dc606"
            ]
        ]
    },
    {
        "id": "550aa44e.a0e73c",
        "type": "template",
        "z": "a9d6a1e5.18f9e",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n{{{payload}}}\n",
        "x": 260,
        "y": 1040,
        "wires": [
            [
                "c72d0c89.bb"
            ]
        ]
    },
    {
        "id": "c72d0c89.bb",
        "type": "http response",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 430,
        "y": 1040,
        "wires": []
    },
    {
        "id": "5fcfd79c.709d18",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload.Id;\n\nif (auth < 70) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 330,
        "y": 980,
        "wires": [
            [
                "83af9492.4f53f8"
            ],
            []
        ]
    },
    {
        "id": "bcae1048.dc606",
        "type": "mysql",
        "z": "a9d6a1e5.18f9e",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 750,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "f67b562a.3f4568",
        "type": "debug",
        "z": "a9d6a1e5.18f9e",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 880,
        "wires": []
    },
    {
        "id": "83af9492.4f53f8",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Data Insert",
        "func": "dataId = msg.payload.Id;\ndataMsg = msg.payload.msg;\ndataTemp = msg.payload.Temp;\ndataHum = msg.payload.Hum;\nmsg.topic = \n/*INSERT INTO Status (Id) VALUES (\" + dataId + \");\"*/\n\"INSERT INTO SensorData (Time, id, Moisture, Temp, Hum) VALUES (now(), \" + dataId + \", \" + dataMsg + \", \" + dataTemp + \", \" + dataHum + \");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 610,
        "y": 1040,
        "wires": [
            [
                "bcae1048.dc606",
                "cab69c4e.a600e"
            ]
        ]
    },
    {
        "id": "34c746b3.19554a",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Water Check",
        "func": "var water = msg.payload.msg;\n\nif (water == 3) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 670,
        "y": 740,
        "wires": [
            [
                "458f6dc.f476894"
            ],
            [
                "c39b5df2.65e04"
            ]
        ]
    },
    {
        "id": "458f6dc.f476894",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Data Insert",
        "func": "dataId = msg.payload.Id;\ndataMsg = msg.payload.msg;\ndataAmount = msg.payload.amt;\nmsg.topic = \n/*INSERT INTO Status (Id) VALUES (\" + dataId + \");\"*/\n\"INSERT INTO WaterEvents (Time, id, Event, Amount) VALUES (now(), \" + dataId + \", \" + dataMsg + \", \" + dataAmount + \");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 870,
        "y": 740,
        "wires": [
            [
                "cd6c5be.fe9d8a8",
                "cab69c4e.a600e"
            ]
        ]
    },
    {
        "id": "4b97251c.d4462c",
        "type": "comment",
        "z": "a9d6a1e5.18f9e",
        "name": "Web Listener to handle SMS / E-Mail",
        "info": "",
        "x": 190,
        "y": 1120,
        "wires": []
    },
    {
        "id": "bcac754a.9cf478",
        "type": "debug",
        "z": "a9d6a1e5.18f9e",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "to",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 1220,
        "wires": []
    },
    {
        "id": "e4023b38.6d5ad8",
        "type": "e-mail",
        "z": "a9d6a1e5.18f9e",
        "server": "smtp.gmail.com",
        "port": "465",
        "secure": true,
        "tls": false,
        "name": "",
        "dname": "Email Out",
        "x": 1140,
        "y": 1100,
        "wires": []
    },
    {
        "id": "ec7ab263.be39c",
        "type": "http in",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "url": "emailalert",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 120,
        "y": 1200,
        "wires": [
            [
                "56f9f941.06bb98",
                "9d1722ba.2807d",
                "bcac754a.9cf478"
            ]
        ]
    },
    {
        "id": "56f9f941.06bb98",
        "type": "template",
        "z": "a9d6a1e5.18f9e",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n{{{payload}}}\n",
        "x": 280,
        "y": 1260,
        "wires": [
            [
                "970c345b.873818"
            ]
        ]
    },
    {
        "id": "970c345b.873818",
        "type": "http response",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 451,
        "y": 1260,
        "wires": []
    },
    {
        "id": "9d1722ba.2807d",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload.Id;\n\nif (auth < 70) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 330,
        "y": 1180,
        "wires": [
            [
                "ec32a651.635588",
                "bcac754a.9cf478"
            ],
            []
        ]
    },
    {
        "id": "ec32a651.635588",
        "type": "change",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "to",
                "pt": "msg",
                "to": "payload.to",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.ip",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Autobud Notifier",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 1180,
        "wires": [
            [
                "e4023b38.6d5ad8",
                "bcac754a.9cf478"
            ]
        ]
    },
    {
        "id": "29982911.c8ba26",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Action Handeler",
        "func": "\nvar OutCode = msg.payload.ip;\nvar OutMessage;\n\nif (OutCode == 1) {\n    msg.payload = \"Autobud Online TEST Status 1\"\n}\n\nif (OutCode == 2) {\n    msg.payload = \"Autobud Online TEST Status 2\"\n}\n    return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 920,
        "y": 1320,
        "wires": [
            [
                "e4023b38.6d5ad8",
                "bcac754a.9cf478"
            ]
        ]
    },
    {
        "id": "56197681.e76208",
        "type": "comment",
        "z": "a9d6a1e5.18f9e",
        "name": "Web Listener to handle Tank Levels",
        "info": "",
        "x": 160,
        "y": 1380,
        "wires": []
    },
    {
        "id": "291ff3ca.46418c",
        "type": "http in",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "url": "tank",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 130,
        "y": 1440,
        "wires": [
            [
                "988ce6a5.d6b568",
                "b7bacc34.9a3c8"
            ]
        ]
    },
    {
        "id": "988ce6a5.d6b568",
        "type": "template",
        "z": "a9d6a1e5.18f9e",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n{{{payload}}}\n",
        "x": 280,
        "y": 1500,
        "wires": [
            [
                "351e87fb.81baa8"
            ]
        ]
    },
    {
        "id": "351e87fb.81baa8",
        "type": "http response",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 450,
        "y": 1500,
        "wires": []
    },
    {
        "id": "b7bacc34.9a3c8",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload.Id;\n\nif (auth < 70) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 350,
        "y": 1440,
        "wires": [
            [
                "a1b6e846.840ef8"
            ],
            []
        ]
    },
    {
        "id": "a1b6e846.840ef8",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Data Insert",
        "func": "dataId = msg.payload.Id;\ndataMsg = msg.payload.msg;\ndataAmt = msg.payload.Amt;\nmsg.topic = \n/*INSERT INTO Status (Id) VALUES (\" + dataId + \");\"*/\n\"INSERT INTO Tank (Time, Id, Level, Amt) VALUES (now(), \" + dataId + \", \" + dataMsg  +\", \" + dataAmt  +\");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 1500,
        "wires": [
            [
                "229fcbe9.b11724",
                "84c061ce.1a773"
            ]
        ]
    },
    {
        "id": "229fcbe9.b11724",
        "type": "mysql",
        "z": "a9d6a1e5.18f9e",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 810,
        "y": 1500,
        "wires": [
            [
                "84c061ce.1a773"
            ]
        ]
    },
    {
        "id": "84c061ce.1a773",
        "type": "debug",
        "z": "a9d6a1e5.18f9e",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 1420,
        "wires": []
    },
    {
        "id": "c3f764a6fde25107",
        "type": "comment",
        "z": "a9d6a1e5.18f9e",
        "name": "Web Listener to update day count",
        "info": "",
        "x": 180,
        "y": 1600,
        "wires": []
    },
    {
        "id": "dc0731055bc965a9",
        "type": "http in",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "url": "daycount",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 90,
        "y": 1660,
        "wires": [
            [
                "a3ab2e33628c3236",
                "2041e1854248c416"
            ]
        ]
    },
    {
        "id": "a3ab2e33628c3236",
        "type": "template",
        "z": "a9d6a1e5.18f9e",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n{{{payload}}}\n",
        "x": 240,
        "y": 1720,
        "wires": [
            [
                "b7903c7eb8dbd9f0"
            ]
        ]
    },
    {
        "id": "b7903c7eb8dbd9f0",
        "type": "http response",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 380,
        "y": 1720,
        "wires": []
    },
    {
        "id": "2041e1854248c416",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload.Id;\n\nif (auth < 500) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1660,
        "wires": [
            [
                "30d149e8efec6e23"
            ],
            []
        ]
    },
    {
        "id": "30d149e8efec6e23",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Data Insert",
        "func": "dataId = msg.payload.Id;\ndataVeg = msg.payload.veg;\ndataFlower = msg.payload.flower;\nmsg.topic = \n\"Update Grows SET DaysInFlower = '\" + dataFlower + \"', DaysInVeg = '\" + dataVeg + \"' Where id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 1720,
        "wires": [
            [
                "6015f7aaaa369f9b",
                "ec77d6b455d695e8"
            ]
        ]
    },
    {
        "id": "6015f7aaaa369f9b",
        "type": "mysql",
        "z": "a9d6a1e5.18f9e",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 870,
        "y": 1820,
        "wires": [
            [
                "ec77d6b455d695e8"
            ]
        ]
    },
    {
        "id": "ec77d6b455d695e8",
        "type": "debug",
        "z": "a9d6a1e5.18f9e",
        "name": "LogOutput",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 860,
        "y": 1640,
        "wires": []
    },
    {
        "id": "1a37788fab45fe9a",
        "type": "debug",
        "z": "a9d6a1e5.18f9e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 820,
        "y": 380,
        "wires": []
    },
    {
        "id": "b7d8dc3464631d61",
        "type": "mysql",
        "z": "a9d6a1e5.18f9e",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 850,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "b5783ca7f70cef9a",
        "type": "function",
        "z": "a9d6a1e5.18f9e",
        "name": "Data Insert",
        "func": "dataId = msg.payload.Id;\ndataGrowDay = msg.payload.GrowDay;\nmsg.topic = \n\"Update Grows SET GrowDay = '\" + dataGrowDay + \"' Where id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 140,
        "wires": [
            [
                "b7d8dc3464631d61"
            ]
        ]
    },
    {
        "id": "87bd278639930640",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 150,
        "y": 300,
        "wires": [
            [
                "8a3ec308f45c0d8c",
                "848764bc4e0a5927",
                "e861ebdda052c181"
            ]
        ]
    },
    {
        "id": "0660f3b0c34c2d3a",
        "type": "template",
        "z": "f739ade423c85ba0",
        "name": "Get Grows",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": " \nSELECT id FROM Grows WHERE isActive = 1",
        "output": "str",
        "x": 310,
        "y": 80,
        "wires": [
            [
                "922160521ad96dfd"
            ]
        ]
    },
    {
        "id": "cf97222825feae28",
        "type": "ui_button",
        "z": "f739ade423c85ba0",
        "name": "Load Logs",
        "group": "483fbcce35a01e03",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Load Historical Images",
        "tooltip": "Refresh",
        "color": "",
        "bgcolor": "#85C1E9",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 890,
        "y": 540,
        "wires": [
            [
                "d465e122bf8c75af"
            ]
        ]
    },
    {
        "id": "426ec0481c9c45c7",
        "type": "ui_dropdown",
        "z": "f739ade423c85ba0",
        "name": "",
        "label": "Select Grow",
        "tooltip": "",
        "place": "",
        "group": "b52a0b28eeb752b1",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "msg.options",
        "topicType": "str",
        "className": "",
        "x": 790,
        "y": 40,
        "wires": [
            [
                "4caf0c4345d8c329",
                "bfd56fecd2e2cfb5",
                "59d43178338c1324",
                "18824756c5df0dc0",
                "989e46eefb868ae0",
                "ac1c61805b01d72d",
                "2f52f32dd032c07c",
                "a9cd4244653a4d17"
            ]
        ]
    },
    {
        "id": "6be7427b74b079c9",
        "type": "change",
        "z": "f739ade423c85ba0",
        "name": "change",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "$.payload.id",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 80,
        "wires": [
            [
                "426ec0481c9c45c7"
            ]
        ]
    },
    {
        "id": "4caf0c4345d8c329",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "DailyLog",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT Date, GrowDay, Ip FROM DailyLog WHERE Id =  \" + \"'\" + data + \"'\" + \"ORDER BY Date DESC LIMIT 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "x": 1040,
        "y": 80,
        "wires": [
            [
                "87bd278639930640"
            ]
        ]
    },
    {
        "id": "8a3ec308f45c0d8c",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "Grow Day",
        "label": "Grow Day",
        "format": "{{msg.payload[0].GrowDay}}",
        "layout": "row-center",
        "className": "",
        "x": 320,
        "y": 260,
        "wires": []
    },
    {
        "id": "848764bc4e0a5927",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "IP",
        "label": "Device:",
        "format": "http://{{msg.payload[0].Ip}}",
        "layout": "row-center",
        "className": "",
        "x": 330,
        "y": 300,
        "wires": []
    },
    {
        "id": "902fd6a7b6a5e595",
        "type": "comment",
        "z": "f739ade423c85ba0",
        "name": "Grow Selector",
        "info": "",
        "x": 150,
        "y": 40,
        "wires": []
    },
    {
        "id": "3793ef46eb17c0bc",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Convert",
        "func": "data = msg.payload[0].img;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "x": 640,
        "y": 260,
        "wires": [
            [
                "f6662b6ea21a9d1b"
            ]
        ]
    },
    {
        "id": "f6662b6ea21a9d1b",
        "type": "ui_template",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "name": "Image",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div height=\"350\" style=\"height: 350px;\">\n<img src=data:image/jpeg;base64,{{msg.payload}} width=\"450\"><br/>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 810,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "e861ebdda052c181",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "Date",
        "label": "Date",
        "format": "{{msg.payload[0].Date}}",
        "layout": "row-center",
        "className": "",
        "x": 330,
        "y": 340,
        "wires": []
    },
    {
        "id": "bfd56fecd2e2cfb5",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Img",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT img FROM ImgDir WHERE id =  \" + \"'\" + data + \"'\" + \"ORDER BY Date DESC LIMIT 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "x": 1030,
        "y": 140,
        "wires": [
            [
                "d732cdf3ce49c324"
            ]
        ]
    },
    {
        "id": "922160521ad96dfd",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 490,
        "y": 80,
        "wires": [
            [
                "6be7427b74b079c9"
            ]
        ]
    },
    {
        "id": "d732cdf3ce49c324",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 470,
        "y": 260,
        "wires": [
            [
                "3793ef46eb17c0bc"
            ]
        ]
    },
    {
        "id": "fe45a82be5bafc06",
        "type": "comment",
        "z": "f739ade423c85ba0",
        "name": "Current Info",
        "info": "",
        "x": 130,
        "y": 220,
        "wires": []
    },
    {
        "id": "6a6b96b1f7726c49",
        "type": "comment",
        "z": "f739ade423c85ba0",
        "name": "Historical Data",
        "info": "",
        "x": 1260,
        "y": 340,
        "wires": []
    },
    {
        "id": "d465e122bf8c75af",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Historical Images",
        "func": "var grow = global.get(\"Grow\");\ndata = grow;\nvar m = {\n topic : \"SELECT GrowDay FROM DailyLog WHERE id =  \" + \"'\" + data + \"'\" + \"ORDER BY Date DESC;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 540,
        "wires": [
            [
                "adc085cfbe131619"
            ]
        ]
    },
    {
        "id": "adc085cfbe131619",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1330,
        "y": 540,
        "wires": [
            [
                "665e1a9aa1e0f767",
                "322d998eb94978d8"
            ]
        ]
    },
    {
        "id": "665e1a9aa1e0f767",
        "type": "change",
        "z": "f739ade423c85ba0",
        "name": "change",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "$.payload.GrowDay",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1500,
        "y": 540,
        "wires": [
            [
                "5db356c3972cbd5a",
                "322d998eb94978d8"
            ]
        ]
    },
    {
        "id": "5db356c3972cbd5a",
        "type": "ui_dropdown",
        "z": "f739ade423c85ba0",
        "name": "Day",
        "label": "Select Grow Day",
        "tooltip": "",
        "place": "",
        "group": "483fbcce35a01e03",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "msg.options",
        "x": 1650,
        "y": 540,
        "wires": [
            [
                "484b49f6836cab3e"
            ]
        ]
    },
    {
        "id": "e4ee3ac654bd5bf3",
        "type": "moment",
        "z": "f739ade423c85ba0",
        "name": "Date Converter",
        "topic": "Date",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Jersey",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD",
        "locale": "en_GB",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Europe/Jersey",
        "x": 1380,
        "y": 600,
        "wires": [
            [
                "0d784f124ca82f13",
                "ef82e45e722cebdc"
            ]
        ]
    },
    {
        "id": "484b49f6836cab3e",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Pull Date",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT Date FROM DailyLog WHERE GrowDay =  \" + \"'\" + data + \"'\" + \" ORDER BY DATE DESC LIMIT 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1820,
        "y": 540,
        "wires": [
            [
                "07c6e2c441453990"
            ]
        ]
    },
    {
        "id": "07c6e2c441453990",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1990,
        "y": 540,
        "wires": [
            [
                "955adf43965495a8"
            ]
        ]
    },
    {
        "id": "955adf43965495a8",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Convert",
        "func": "data = msg.payload[0].Date;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1200,
        "y": 600,
        "wires": [
            [
                "e4ee3ac654bd5bf3"
            ]
        ]
    },
    {
        "id": "0d784f124ca82f13",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Pull Date",
        "func": "GDate = (msg.payload);\nvar grow = global.get(\"Grow\");\ndata = grow;\nvar m = {\n topic : \"SELECT img FROM ImgDir WHERE Date LIKE  \" + \"'\" + GDate + \"%'\" + \" and id = \" + grow + \" LIMIT 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1580,
        "y": 600,
        "wires": [
            [
                "a11af6ae928a02b3",
                "ef82e45e722cebdc"
            ]
        ]
    },
    {
        "id": "a11af6ae928a02b3",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1750,
        "y": 600,
        "wires": [
            [
                "9f6cdd78919743af"
            ]
        ]
    },
    {
        "id": "9f6cdd78919743af",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Convert",
        "func": "data = msg.payload[0].img;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "x": 1920,
        "y": 600,
        "wires": [
            [
                "86ca0957f516ac88",
                "ef82e45e722cebdc"
            ]
        ]
    },
    {
        "id": "86ca0957f516ac88",
        "type": "ui_template",
        "z": "f739ade423c85ba0",
        "group": "483fbcce35a01e03",
        "name": "Image",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<div height=\"350\" style=\"height: 350px;\">\n<img src=data:image/jpeg;base64,{{msg.payload}} width=\"450\"><br/>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 2090,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "467cc8e0173db131",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Convert",
        "func": "data = msg.payload[0].img;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "x": 660,
        "y": 120,
        "wires": [
            [
                "c9cf4ab2fa5b567a"
            ]
        ]
    },
    {
        "id": "e8340cc260eb7e05",
        "type": "template",
        "z": "f739ade423c85ba0",
        "name": "Get Img",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": " \nSELECT img FROM UIImgs WHERE ImgID = 1",
        "output": "str",
        "x": 300,
        "y": 120,
        "wires": [
            [
                "5ea718d1b50673d0"
            ]
        ]
    },
    {
        "id": "8ce31a8aaede5d05",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Img",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT img FROM UIImgs WHERE ImgID = 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 330,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "5ea718d1b50673d0",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 490,
        "y": 120,
        "wires": [
            [
                "467cc8e0173db131"
            ]
        ]
    },
    {
        "id": "ad768f72bc0545bd",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Logs",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT * FROM LabReport WHERE id =  \" + \"'\" + data + \"'\" + \" ORDER BY Date DESC;\"     \n };\nreturn m;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 130,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "59d43178338c1324",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "DailyLog",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT Genetics, Soil, DaysInVeg, DaysInFlower FROM Grows WHERE Id =  \" + \"'\" + data + \"'\" + \";\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 40,
        "wires": [
            [
                "be62c417357bcff2"
            ]
        ]
    },
    {
        "id": "be62c417357bcff2",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 150,
        "y": 340,
        "wires": [
            [
                "934499e3820a18e3",
                "9b7cf1e2b90818a8",
                "7285939720582f10",
                "3c7d0e32b8b1bc49"
            ]
        ]
    },
    {
        "id": "934499e3820a18e3",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "Genetics",
        "label": "Genetics",
        "format": "{{msg.payload[0].Genetics}}",
        "layout": "row-center",
        "className": "",
        "x": 320,
        "y": 380,
        "wires": []
    },
    {
        "id": "9b7cf1e2b90818a8",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "Soil",
        "label": "Soil",
        "format": "{{msg.payload[0].Soil}}",
        "layout": "row-center",
        "className": "",
        "x": 330,
        "y": 420,
        "wires": []
    },
    {
        "id": "e59c0eb0eac8fc00",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "Latest Image",
        "label": "Latest Image",
        "format": "",
        "layout": "row-center",
        "className": "",
        "x": 490,
        "y": 360,
        "wires": []
    },
    {
        "id": "ccc62a88caffbd3b",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Convert",
        "func": "data = msg.payload[0].Date;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2200,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "18824756c5df0dc0",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Lighting",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT COUNT(*) AS light FROM Logs WHERE id =  \" + \"'\" + data + \"'\" + \"AND EVENT = 1 AND Time BETWEEN DATE(NOW() - INTERVAL 2 DAY) AND DATE(NOW() - INTERVAL 1 DAY);\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 320,
        "wires": [
            [
                "e9574f5bfc7fb50a"
            ]
        ]
    },
    {
        "id": "e9574f5bfc7fb50a",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 630,
        "y": 320,
        "wires": [
            [
                "a70ba3707fb72966"
            ]
        ]
    },
    {
        "id": "a70ba3707fb72966",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "Light Hours",
        "label": "Light Hours",
        "format": "{{msg.payload[0].light}}",
        "layout": "row-center",
        "className": "",
        "x": 870,
        "y": 320,
        "wires": []
    },
    {
        "id": "989e46eefb868ae0",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Historical Temp",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT Temp, Time FROM SensorData WHERE id =  \" + \"'\" + data + \"'\" + \"ORDER BY Time DESC;\"     \n };\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1140,
        "y": 420,
        "wires": [
            [
                "1d7b65474e60a069"
            ]
        ]
    },
    {
        "id": "1d7b65474e60a069",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1370,
        "y": 420,
        "wires": [
            [
                "b567510d8ffb4cba"
            ]
        ]
    },
    {
        "id": "b567510d8ffb4cba",
        "type": "change",
        "z": "f739ade423c85ba0",
        "name": "Format data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "(\t  $series := [\t    { \"field\": \"Temp\", \"label\": \"Enclosure Tempature\" },\t    { \"field\": \"data2\", \"label\": \"Range\" }\t  ];\t  $xaxis := \"Time\";\t  [\t    {\t      \"series\": $series.label,\t      \"data\": $series.[\t        (\t          $yaxis := $.field;\t          $$.payload.{\t            \"x\": $lookup($, $xaxis),\t            \"y\": $lookup($, $yaxis)\t          }\t        )\t      ]\t    }\t  ]\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1730,
        "y": 420,
        "wires": [
            [
                "5eb5218f01738972"
            ]
        ]
    },
    {
        "id": "5eb5218f01738972",
        "type": "ui_chart",
        "z": "f739ade423c85ba0",
        "name": "Enclosure Tempature",
        "group": "df0d2097046bd1b8",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Historical Tempature",
        "chartType": "line",
        "legend": "true",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "60",
        "ymax": "95",
        "removeOlder": "75",
        "removeOlderPoints": "4000",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 1980,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "ac1c61805b01d72d",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Historical Moisture",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT Hum, Time FROM SensorData WHERE id =  \" + \"'\" + data + \"'\" + \"ORDER BY Time DESC;\"     \n };\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1150,
        "y": 460,
        "wires": [
            [
                "c3d87678d634b9f6"
            ]
        ]
    },
    {
        "id": "c3d87678d634b9f6",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1350,
        "y": 460,
        "wires": [
            [
                "a28ffa86aff7b6b8"
            ]
        ]
    },
    {
        "id": "a28ffa86aff7b6b8",
        "type": "change",
        "z": "f739ade423c85ba0",
        "name": "Format data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "(\t  $series := [\t    { \"field\": \"Hum\", \"label\": \"Enclosure Hum\" },\t    { \"field\": \"data2\", \"label\": \"Range\" }\t  ];\t  $xaxis := \"Time\";\t  [\t    {\t      \"series\": $series.label,\t      \"data\": $series.[\t        (\t          $yaxis := $.field;\t          $$.payload.{\t            \"x\": $lookup($, $xaxis),\t            \"y\": $lookup($, $yaxis)\t          }\t        )\t      ]\t    }\t  ]\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1730,
        "y": 460,
        "wires": [
            [
                "a9efd10ec4b0f8cf"
            ]
        ]
    },
    {
        "id": "a9efd10ec4b0f8cf",
        "type": "ui_chart",
        "z": "f739ade423c85ba0",
        "name": "Enclosure Humidity",
        "group": "df0d2097046bd1b8",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "Historical Humidity",
        "chartType": "line",
        "legend": "true",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "10",
        "ymax": "90",
        "removeOlder": "75",
        "removeOlderPoints": "4000",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 1970,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "a9cd4244653a4d17",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "",
        "func": "data = (msg.payload);\nglobal.set(\"Grow\",data);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 40,
        "wires": [
            [
                "07f2971b33255bb8"
            ]
        ]
    },
    {
        "id": "f47453573f97add3",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "",
        "func": "var work_GlobalGrow = global.get(\"Grow\");\n\nmsg.payload = work_GlobalGrow.b;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1720,
        "y": 180,
        "wires": [
            [
                "07f2971b33255bb8"
            ]
        ]
    },
    {
        "id": "1b047d23c2373c5a",
        "type": "comment",
        "z": "f739ade423c85ba0",
        "name": "These functions are hacked and need fixed",
        "info": "",
        "x": 1960,
        "y": 40,
        "wires": []
    },
    {
        "id": "c9cf4ab2fa5b567a",
        "type": "ui_template",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "name": "ABImage",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div height=\"300\" style=\"height: 300px;\">\n<img src=data:image/jpeg;base64,{{msg.payload}} width=\"320\"><br/>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 800,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "a26f403bbd830962",
        "type": "inject",
        "z": "f739ade423c85ba0",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 140,
        "wires": [
            [
                "e8340cc260eb7e05",
                "0660f3b0c34c2d3a"
            ]
        ]
    },
    {
        "id": "2f52f32dd032c07c",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Sensor Data",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT * FROM SensorData WHERE Id =  \" + \"'\" + data + \"'\" + \" order by Time desc limit 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 130,
        "y": 600,
        "wires": [
            [
                "6f15b20edd0f8f08"
            ]
        ]
    },
    {
        "id": "bd6386e9339488b4",
        "type": "ui_gauge",
        "z": "f739ade423c85ba0",
        "name": "Temp",
        "group": "df0d2097046bd1b8",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Enclosure Temp",
        "label": "%",
        "format": "{{msg.payload[0].Temp}}",
        "min": 0,
        "max": "90",
        "colors": [
            "#ff0000",
            "#77e600",
            "#ff0000"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 470,
        "y": 620,
        "wires": []
    },
    {
        "id": "6f15b20edd0f8f08",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 290,
        "y": 600,
        "wires": [
            [
                "bd6386e9339488b4",
                "384719caa12c5dcc",
                "08ee7d2f7abe4482"
            ]
        ]
    },
    {
        "id": "384719caa12c5dcc",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "Last Update",
        "label": "Last Update",
        "format": "{{msg.payload[0].Time}}",
        "layout": "row-center",
        "className": "",
        "x": 490,
        "y": 580,
        "wires": []
    },
    {
        "id": "07f2971b33255bb8",
        "type": "debug",
        "z": "f739ade423c85ba0",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1970,
        "y": 80,
        "wires": []
    },
    {
        "id": "ab7fcc5445f3f96f",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "",
        "func": "data = (msg.payload);\nvar GlobalTemp = {};\nGlobalTemp.a = 10;\nGlobalTemp.b = data;\nGlobalTemp.c = 22;\nglobal.set(\"Temp\",GlobalTemp);\nreturn GlobalTemp.b;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "aa5ca178922225eb",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "",
        "func": "var work_GlobalTemp = global.get(\"Temp\");\n\nmsg.payload = work_GlobalTemp.b;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1720,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "57e11c5f4b0101ce",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Sensor Data",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT * FROM SensorData WHERE Id =  \" + \"'\" + data + \"'\" + \" order by Time desc limit 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2170,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "1c0a3633dc7fd1cd",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "",
        "func": "var work_GlobalGrow = global.get(\"Grow\");\n\nmsg.payload = work_GlobalGrow.b;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2200,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "82e6318fccdf5ba0",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "",
        "func": "data = (msg.payload);\nvar GlobalGrow = {};\nGlobalGrow.a = 10;\nGlobalGrow.b = data;\nGlobalGrow.c = 22;\nglobal.set(\"Grow\",GlobalGrow);\nreturn GlobalGrow.b;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "6847412599f1f135",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Log Update",
        "func": "var work_GlobalTemp = global.get(\"Grow\");\ngrow = GlobalGrow.b;\ndata = (msg.payload);\nvar m = {\n topic : \"INSERT INTO GrowLogs (id, Time, event) VALUES (\" + grow + \", NOW(), '\" + data + \"');\"     \n };\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2150,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "2d8a58bac2e07b80",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Historical Images",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT GrowDay FROM DailyLog WHERE id =  \" + \"'\" + data + \"'\" + \"ORDER BY Date DESC;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 810,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "ef82e45e722cebdc",
        "type": "debug",
        "z": "f739ade423c85ba0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2150,
        "y": 700,
        "wires": []
    },
    {
        "id": "322d998eb94978d8",
        "type": "debug",
        "z": "f739ade423c85ba0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1410,
        "y": 680,
        "wires": []
    },
    {
        "id": "08ee7d2f7abe4482",
        "type": "ui_gauge",
        "z": "f739ade423c85ba0",
        "name": "Humidity",
        "group": "df0d2097046bd1b8",
        "order": 4,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Enclosure Humidity",
        "label": "%",
        "format": "{{msg.payload[0].Hum}}",
        "min": 0,
        "max": "90",
        "colors": [
            "#ff0000",
            "#77e600",
            "#ff0000"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 480,
        "y": 560,
        "wires": []
    },
    {
        "id": "9120eef2ac710ff5",
        "type": "comment",
        "z": "f739ade423c85ba0",
        "name": "Lab Report",
        "info": "Currently cant load historical reports due to confusion with loading the date array",
        "x": 420,
        "y": 740,
        "wires": []
    },
    {
        "id": "dafc09c12e5bcc3e",
        "type": "debug",
        "z": "f739ade423c85ba0",
        "name": "Lab Reports",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2030,
        "y": 1120,
        "wires": []
    },
    {
        "id": "b3c5b4be9f5cb262",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1230,
        "y": 820,
        "wires": [
            [
                "dafc09c12e5bcc3e",
                "e6539320f40c7b78",
                "f1a2aa98c5b3cb47",
                "735822af5f7ff6ab",
                "9ce045f729994f60",
                "609a9813b29ff78f",
                "0bb198d854813258",
                "2cb520347578bd92"
            ]
        ]
    },
    {
        "id": "f1a2aa98c5b3cb47",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "483fbcce35a01e03",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "Event",
        "label": "Event",
        "format": "{{msg.payload[0].Event}}",
        "layout": "row-center",
        "className": "",
        "x": 2010,
        "y": 840,
        "wires": []
    },
    {
        "id": "e6539320f40c7b78",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "483fbcce35a01e03",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "Date",
        "label": "Date",
        "format": "{{msg.payload[0].Date}}",
        "layout": "row-center",
        "className": "",
        "x": 2010,
        "y": 800,
        "wires": []
    },
    {
        "id": "735822af5f7ff6ab",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "483fbcce35a01e03",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "Soil",
        "label": "PH",
        "format": "{{msg.payload[0].PH}}",
        "layout": "row-center",
        "className": "",
        "x": 2010,
        "y": 880,
        "wires": []
    },
    {
        "id": "9ce045f729994f60",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "483fbcce35a01e03",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "EC",
        "label": "EC",
        "format": "{{msg.payload[0].PPM}}",
        "layout": "row-center",
        "className": "",
        "x": 2010,
        "y": 920,
        "wires": []
    },
    {
        "id": "609a9813b29ff78f",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "483fbcce35a01e03",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "Log",
        "label": "Log",
        "format": "{{msg.payload[0].Notes}}",
        "layout": "row-center",
        "className": "",
        "x": 2010,
        "y": 1000,
        "wires": []
    },
    {
        "id": "0bb198d854813258",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Convert",
        "func": "data = msg.payload[0].img;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "x": 2020,
        "y": 1060,
        "wires": [
            [
                "f9a313a3d4fcf47f"
            ]
        ]
    },
    {
        "id": "f9a313a3d4fcf47f",
        "type": "ui_template",
        "z": "f739ade423c85ba0",
        "group": "483fbcce35a01e03",
        "name": "Image",
        "order": 12,
        "width": "0",
        "height": "0",
        "format": "<div height=\"350\" style=\"height: 350px;\">\n<img src=data:image/jpeg;base64,{{msg.payload}} width=\"450\"><br/>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 2190,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "8933598c73152234",
        "type": "ui_button",
        "z": "f739ade423c85ba0",
        "name": "Load Lab Reports",
        "group": "483fbcce35a01e03",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Load Lab Reports",
        "tooltip": "Refresh",
        "color": "",
        "bgcolor": "#85C1E9",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 150,
        "y": 820,
        "wires": [
            [
                "f15495d12d25e08c"
            ]
        ]
    },
    {
        "id": "f15495d12d25e08c",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Query Reports",
        "func": "var grow = global.get(\"Grow\");\ndata = grow;\nvar m = {\n topic : \"SELECT GrowDay FROM LabReport WHERE id =  \" + \"'\" + data + \"'\" + \"ORDER BY GrowDay DESC;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 820,
        "wires": [
            [
                "3fe342c20255c4f4",
                "d3578ffb1393b1c6"
            ]
        ]
    },
    {
        "id": "3fe342c20255c4f4",
        "type": "mysql",
        "z": "f739ade423c85ba0",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 570,
        "y": 820,
        "wires": [
            [
                "bd05f8509adc3ffe"
            ]
        ]
    },
    {
        "id": "e35b6f6448abf29c",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Pull Date",
        "func": "var grow = global.get(\"Grow\");\ndata = (msg.payload);\nvar m = {\n topic : \"SELECT * FROM LabReport WHERE GrowDay =  \" + \"'\" + data + \"'\" + \" and Id =  \" + \"'\" + grow + \"'\" + \" ORDER BY DATE DESC LIMIT 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 820,
        "wires": [
            [
                "b3c5b4be9f5cb262"
            ]
        ]
    },
    {
        "id": "d3578ffb1393b1c6",
        "type": "debug",
        "z": "f739ade423c85ba0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 900,
        "wires": []
    },
    {
        "id": "6f119368e573bc5e",
        "type": "function",
        "z": "f739ade423c85ba0",
        "name": "Convert",
        "func": "data = msg.payload[0].Date;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "71859e335983eba5",
        "type": "debug",
        "z": "f739ade423c85ba0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1490,
        "y": 1240,
        "wires": []
    },
    {
        "id": "bd05f8509adc3ffe",
        "type": "change",
        "z": "f739ade423c85ba0",
        "name": "change",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "$.payload.GrowDay",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 840,
        "wires": [
            [
                "db87d104e48092b1"
            ]
        ]
    },
    {
        "id": "db87d104e48092b1",
        "type": "ui_dropdown",
        "z": "f739ade423c85ba0",
        "name": "Day",
        "label": "[LAB]Select Grow Day",
        "tooltip": "",
        "place": "",
        "group": "483fbcce35a01e03",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "msg.options",
        "topicType": "str",
        "className": "",
        "x": 890,
        "y": 840,
        "wires": [
            [
                "e35b6f6448abf29c"
            ]
        ]
    },
    {
        "id": "7285939720582f10",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "DaysInVeg",
        "label": "Days In Veg",
        "format": "{{msg.payload[0].DaysInVeg}}",
        "layout": "row-center",
        "className": "",
        "x": 350,
        "y": 460,
        "wires": []
    },
    {
        "id": "3c7d0e32b8b1bc49",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "b52a0b28eeb752b1",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "DaysInFlower",
        "label": "Days In Flower",
        "format": "{{msg.payload[0].DaysInFlower}}",
        "layout": "row-center",
        "className": "",
        "x": 360,
        "y": 500,
        "wires": []
    },
    {
        "id": "2cb520347578bd92",
        "type": "ui_text",
        "z": "f739ade423c85ba0",
        "group": "483fbcce35a01e03",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "EC",
        "label": "H2O",
        "format": "{{msg.payload[0].H2O}}",
        "layout": "row-center",
        "className": "",
        "x": 2010,
        "y": 960,
        "wires": []
    },
    {
        "id": "99ba0669d94b1ab2",
        "type": "template",
        "z": "5f45bc47afcd40d8",
        "name": "Get Grows",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": " \nSELECT id FROM Grows",
        "output": "str",
        "x": 270,
        "y": 140,
        "wires": [
            [
                "738bb9179da80c5a"
            ]
        ]
    },
    {
        "id": "6d27f3c8d1115f97",
        "type": "ui_button",
        "z": "5f45bc47afcd40d8",
        "name": "Open Date",
        "group": "3d49467068d0b75e",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Grow Selector",
        "tooltip": "Select avaiable grows",
        "color": "",
        "bgcolor": "#85C1E9",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 90,
        "y": 140,
        "wires": [
            [
                "99ba0669d94b1ab2"
            ]
        ]
    },
    {
        "id": "0c2f2d403f0fea9e",
        "type": "ui_dropdown",
        "z": "5f45bc47afcd40d8",
        "name": "",
        "label": "Select Grow",
        "tooltip": "",
        "place": "",
        "group": "3d49467068d0b75e",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "msg.options",
        "topicType": "str",
        "className": "",
        "x": 750,
        "y": 100,
        "wires": [
            [
                "5e9ee8bd1ff32c43",
                "c94afac0881fb727",
                "d5b7a0f5c44db382"
            ]
        ]
    },
    {
        "id": "7f8b0a295880f2cb",
        "type": "change",
        "z": "5f45bc47afcd40d8",
        "name": "change",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "$.payload.id",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 140,
        "wires": [
            [
                "0c2f2d403f0fea9e"
            ]
        ]
    },
    {
        "id": "15148b2aa891b940",
        "type": "comment",
        "z": "5f45bc47afcd40d8",
        "name": "Grow Selector",
        "info": "",
        "x": 90,
        "y": 100,
        "wires": []
    },
    {
        "id": "738bb9179da80c5a",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 450,
        "y": 140,
        "wires": [
            [
                "7f8b0a295880f2cb"
            ]
        ]
    },
    {
        "id": "5e9ee8bd1ff32c43",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "",
        "func": "data = (msg.payload);\nvar Grow = {};\nGrow.a = 10;\nGrow.b = data;\nGrow.c = 22;\nglobal.set(\"Grow\",Grow);",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "d4ba6b9bb67c6cfa",
        "type": "ui_text",
        "z": "5f45bc47afcd40d8",
        "group": "3d49467068d0b75e",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "Grow Day",
        "label": "Grow Day",
        "format": "{{msg.payload[0].GrowDay}}",
        "layout": "row-center",
        "className": "",
        "x": 1340,
        "y": 280,
        "wires": []
    },
    {
        "id": "b9dc4ddeed405728",
        "type": "ui_text",
        "z": "5f45bc47afcd40d8",
        "group": "3d49467068d0b75e",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "Flower Days",
        "label": "Flower Days",
        "format": "{{msg.payload[0].DaysInFlower}}",
        "layout": "row-center",
        "className": "",
        "x": 1350,
        "y": 240,
        "wires": []
    },
    {
        "id": "1817f44809d1f99b",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1070,
        "y": 220,
        "wires": [
            [
                "06450b77639208f1",
                "fe5a7eaae23d0322",
                "eeabb267fa7549df",
                "d4ba6b9bb67c6cfa",
                "b9dc4ddeed405728",
                "eb3c64593206137e",
                "9a812cbc8d087ac1"
            ]
        ]
    },
    {
        "id": "06450b77639208f1",
        "type": "ui_text",
        "z": "5f45bc47afcd40d8",
        "group": "3d49467068d0b75e",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "Genetics",
        "label": "Genetics",
        "format": "{{msg.payload[0].Genetics}}",
        "layout": "row-center",
        "className": "",
        "x": 1340,
        "y": 320,
        "wires": []
    },
    {
        "id": "eeabb267fa7549df",
        "type": "ui_text",
        "z": "5f45bc47afcd40d8",
        "group": "3d49467068d0b75e",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "Soil",
        "label": "Soil",
        "format": "{{msg.payload[0].Soil}}",
        "layout": "row-center",
        "className": "",
        "x": 1330,
        "y": 360,
        "wires": []
    },
    {
        "id": "c94afac0881fb727",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "DailyLog",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT Date, GrowDay, Ip FROM DailyLog WHERE Id =  \" + \"'\" + data + \"'\" + \"ORDER BY Date DESC LIMIT 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "x": 940,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "fe5a7eaae23d0322",
        "type": "debug",
        "z": "5f45bc47afcd40d8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1350,
        "y": 120,
        "wires": []
    },
    {
        "id": "d5b7a0f5c44db382",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "DailyLog",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT Genetics, Soil, GrowDay, DaysInFlower, DaysInVeg, Experiment FROM Grows WHERE Id =  \" + \"'\" + data + \"'\" + \";\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 100,
        "wires": [
            [
                "1817f44809d1f99b"
            ]
        ]
    },
    {
        "id": "7fc842ea8035cc49",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 650,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "8aecb6e6bda5ab45",
        "type": "debug",
        "z": "5f45bc47afcd40d8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 490,
        "y": 360,
        "wires": []
    },
    {
        "id": "9b884e87c8a1ff4e",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Data Insert",
        "func": "dataId = msg.payload.id;\ndataGenetics = msg.payload.Genetics;\ndataSoil = msg.payload.Soil;\ndataDC = msg.payload.isDCManaged;\ndataExperiment = msg.payload.Experiment;\ndatainveg = '1';\nmsg.topic = \n/*INSERT INTO Status (Id) VALUES (\" + dataId + \");\"*/\n\"INSERT INTO Grows (Gday, id, Genetics, Experiment, inVeg, isDCManaged, Soil) VALUES (now(), \" + dataId + \", '\" + dataGenetics + \"', '\" + dataExperiment + \"', '\" + datainveg + \"', '\" + dataDC + \"', '\" + dataSoil + \"');\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 280,
        "wires": [
            [
                "8aecb6e6bda5ab45",
                "7fc842ea8035cc49"
            ]
        ]
    },
    {
        "id": "444b47e7e879f5e1",
        "type": "ui_form",
        "z": "5f45bc47afcd40d8",
        "name": "New Grow",
        "label": "New Grow",
        "group": "1cb06dcd467f26fc",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Grow ID",
                "value": "id",
                "type": "number",
                "required": true,
                "rows": null
            },
            {
                "label": "Genetics",
                "value": "Genetics",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Soil",
                "value": "Soil",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Experiment",
                "value": "Experiment",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "DC Managed",
                "value": "isDCManaged",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "id": "",
            "Genetics": "",
            "Soil": "",
            "Experiment": "",
            "isDCManaged": ""
        },
        "payload": "",
        "submit": "Create",
        "cancel": "Cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 130,
        "y": 280,
        "wires": [
            [
                "8aecb6e6bda5ab45",
                "9b884e87c8a1ff4e"
            ]
        ]
    },
    {
        "id": "c545e5be5b0dd47c",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 630,
        "y": 580,
        "wires": [
            [
                "8d98ef5967f0bfea"
            ]
        ]
    },
    {
        "id": "8d98ef5967f0bfea",
        "type": "debug",
        "z": "5f45bc47afcd40d8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1090,
        "y": 660,
        "wires": []
    },
    {
        "id": "a29632284619b69a",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update DailyLog",
        "func": "dataId = msg.payload.id;\ndataGID = msg.payload.GID;\nmsg.topic = \n\"Update DailyLog SET Id = '\" + dataGID + \"' Where Id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 440,
        "wires": [
            [
                "c545e5be5b0dd47c"
            ]
        ]
    },
    {
        "id": "fe577aee89855084",
        "type": "ui_form",
        "z": "5f45bc47afcd40d8",
        "name": "End Grow",
        "label": "End Grow",
        "group": "1cb06dcd467f26fc",
        "order": 2,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Grow ID",
                "value": "id",
                "type": "number",
                "required": true,
                "rows": null
            },
            {
                "label": "Archived Grow ID",
                "value": "GID",
                "type": "number",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "id": "",
            "GID": ""
        },
        "payload": "",
        "submit": "End Grow",
        "cancel": "Cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 120,
        "y": 440,
        "wires": [
            [
                "a29632284619b69a",
                "ae06fda31122179d",
                "4d4b41073514a36d",
                "99b240ed97662656",
                "9e434217d8bacfae",
                "c147ad06b0e399c8",
                "bef002fb026dd666",
                "038a69d6f33a44b2",
                "fe0c553aea180a6a",
                "aa2b083b0d11f8ce"
            ]
        ]
    },
    {
        "id": "ae06fda31122179d",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "DeActivte",
        "func": "dataId = msg.payload.id;\nmsg.topic = \n\"Update Grows SET isActive = 0 Where Id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 720,
        "wires": [
            [
                "c545e5be5b0dd47c"
            ]
        ]
    },
    {
        "id": "4d4b41073514a36d",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Endday",
        "func": "dataId = msg.payload.id;\nmsg.topic = \n\"Update Grows SET Eday = now() Where Id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 760,
        "wires": [
            [
                "c545e5be5b0dd47c"
            ]
        ]
    },
    {
        "id": "038a69d6f33a44b2",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update GrowLogs",
        "func": "dataId = msg.payload.id;\ndataGID = msg.payload.GID;\nmsg.topic = \n\"Update GrowLogs SET id = '\" + dataGID + \"' Where id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 480,
        "wires": [
            [
                "c545e5be5b0dd47c"
            ]
        ]
    },
    {
        "id": "bef002fb026dd666",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Water Events",
        "func": "dataId = msg.payload.id;\ndataGID = msg.payload.GID;\nmsg.topic = \n\"Update WaterEvents SET id = '\" + dataGID + \"' Where id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 520,
        "wires": [
            [
                "c545e5be5b0dd47c"
            ]
        ]
    },
    {
        "id": "c147ad06b0e399c8",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Logs",
        "func": "dataId = msg.payload.id;\ndataGID = msg.payload.GID;\nmsg.topic = \n\"Update Logs SET id = '\" + dataGID + \"' Where id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 560,
        "wires": [
            [
                "c545e5be5b0dd47c"
            ]
        ]
    },
    {
        "id": "9e434217d8bacfae",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update ImgDir",
        "func": "dataId = msg.payload.id;\ndataGID = msg.payload.GID;\nmsg.topic = \n\"Update ImgDir SET id = '\" + dataGID + \"' Where id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 600,
        "wires": [
            [
                "c545e5be5b0dd47c"
            ]
        ]
    },
    {
        "id": "99b240ed97662656",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update SensorData",
        "func": "dataId = msg.payload.id;\ndataGID = msg.payload.GID;\nmsg.topic = \n\"Update SensorData SET id = '\" + dataGID + \"' Where id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 680,
        "wires": [
            [
                "c545e5be5b0dd47c"
            ]
        ]
    },
    {
        "id": "fe0c553aea180a6a",
        "type": "delay",
        "z": "5f45bc47afcd40d8",
        "name": "Delay",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 290,
        "y": 840,
        "wires": [
            [
                "9522ba943ea85b76"
            ]
        ]
    },
    {
        "id": "9522ba943ea85b76",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "ArchiveGrow",
        "func": "dataId = msg.payload.id;\ndataGID = msg.payload.GID;\nmsg.topic = \n\"Update Grows SET id = '\" + dataGID + \"' Where id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 840,
        "wires": [
            [
                "c545e5be5b0dd47c",
                "8d98ef5967f0bfea"
            ]
        ]
    },
    {
        "id": "aa2b083b0d11f8ce",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Labs",
        "func": "dataId = msg.payload.id;\ndataGID = msg.payload.GID;\nmsg.topic = \n\"Update LabReport SET Id = '\" + dataGID + \"' Where Id = '\" + dataId + \"';\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 640,
        "wires": [
            [
                "c545e5be5b0dd47c"
            ]
        ]
    },
    {
        "id": "23863f1566e7ca52",
        "type": "inject",
        "z": "5f45bc47afcd40d8",
        "name": "Grow Day Counter",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "01 00 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1020,
        "wires": [
            [
                "3a4797e5d0b37ea8",
                "03c095d030cdfc40",
                "f55fdd1d3cc1d17a",
                "f1ae60bbe874cb4f"
            ]
        ]
    },
    {
        "id": "6452355e413b889d",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload[0].isDCManaged;\n\nif (auth == 1) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 980,
        "wires": [
            [
                "9ec1a9be9bf2476d",
                "7098659871d85c3a"
            ],
            []
        ]
    },
    {
        "id": "3a4797e5d0b37ea8",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Check Enclosure 1",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT isDCManaged FROM Grows WHERE Id = 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 980,
        "wires": [
            [
                "116b887692958b2f"
            ]
        ]
    },
    {
        "id": "03c095d030cdfc40",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Check Enclosure 2",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT isDCManaged FROM Grows WHERE Id = 2;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1020,
        "wires": [
            [
                "ae77cf11b7410297"
            ]
        ]
    },
    {
        "id": "f55fdd1d3cc1d17a",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Check Enclosure 3",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT isDCManaged FROM Grows WHERE Id = 3;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1060,
        "wires": [
            [
                "69c3d46dad019cd6"
            ]
        ]
    },
    {
        "id": "736afad170c5f741",
        "type": "comment",
        "z": "5f45bc47afcd40d8",
        "name": "DC Managed Grow Day Counter",
        "info": "",
        "x": 130,
        "y": 940,
        "wires": []
    },
    {
        "id": "116b887692958b2f",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 570,
        "y": 980,
        "wires": [
            [
                "6452355e413b889d"
            ]
        ]
    },
    {
        "id": "ae77cf11b7410297",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 570,
        "y": 1020,
        "wires": [
            [
                "08e1eea760e5a21d"
            ]
        ]
    },
    {
        "id": "69c3d46dad019cd6",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 570,
        "y": 1060,
        "wires": [
            [
                "7f0480988aa640ca"
            ]
        ]
    },
    {
        "id": "9ec1a9be9bf2476d",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current Grow Day",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT GrowDay FROM Grows WHERE Id = 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 960,
        "wires": [
            [
                "a1643b37800c8a68"
            ]
        ]
    },
    {
        "id": "a1643b37800c8a68",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1130,
        "y": 960,
        "wires": [
            [
                "928d5c4bd9a948c7",
                "559d5fb1c6a98efc"
            ]
        ]
    },
    {
        "id": "559d5fb1c6a98efc",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Grows",
        "func": "dataGrowDay = msg.payload[0].GrowDay;\nvar GD = parseInt(dataGrowDay );\ndataGrowDay = (dataGrowDay + 1);\nmsg.topic = \n\"Update Grows SET GrowDay = '\" + dataGrowDay + \"' Where id = 1;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 960,
        "wires": [
            [
                "6c2ee2b853ee9700"
            ]
        ]
    },
    {
        "id": "6c2ee2b853ee9700",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1570,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "08e1eea760e5a21d",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload[0].isDCManaged;\n\nif (auth == 1) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1140,
        "wires": [
            [
                "8e3dcf2db0eaa764",
                "7c6a5381ad953acf"
            ],
            []
        ]
    },
    {
        "id": "8e3dcf2db0eaa764",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current Grow Day",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT GrowDay FROM Grows WHERE Id = 2;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 1180,
        "wires": [
            [
                "b08bc9dadaea1eda"
            ]
        ]
    },
    {
        "id": "b08bc9dadaea1eda",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1150,
        "y": 1180,
        "wires": [
            [
                "61988c245a863772",
                "c0363627c28f7419"
            ]
        ]
    },
    {
        "id": "61988c245a863772",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Grows",
        "func": "dataGrowDay = msg.payload[0].GrowDay;\nvar GD = parseInt(dataGrowDay );\ndataGrowDay = (dataGrowDay + 1);\nmsg.topic = \n\"Update Grows SET GrowDay = '\" + dataGrowDay + \"' Where id = 2;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 1180,
        "wires": [
            [
                "c1a51aafe1665e2a"
            ]
        ]
    },
    {
        "id": "c1a51aafe1665e2a",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1670,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "7f0480988aa640ca",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload[0].isDCManaged;\n\nif (auth == 1) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 1380,
        "wires": [
            [
                "32e88a60d9a99279",
                "f8460923ad524aef"
            ],
            []
        ]
    },
    {
        "id": "f8460923ad524aef",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current Grow Day",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT GrowDay FROM Grows WHERE Id = 3;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 1440,
        "wires": [
            [
                "6a86d53501e1eb4a"
            ]
        ]
    },
    {
        "id": "6a86d53501e1eb4a",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1170,
        "y": 1440,
        "wires": [
            [
                "50ea371e85710ad7",
                "d03ac5c8cec5b9fd"
            ]
        ]
    },
    {
        "id": "50ea371e85710ad7",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Grows",
        "func": "dataGrowDay = msg.payload[0].GrowDay;\nvar GD = parseInt(dataGrowDay );\ndataGrowDay = (dataGrowDay + 1);\nmsg.topic = \n\"Update Grows SET GrowDay = '\" + dataGrowDay + \"' Where id = 3;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 1440,
        "wires": [
            [
                "cdc443ba0f9dbee3"
            ]
        ]
    },
    {
        "id": "cdc443ba0f9dbee3",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1670,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "eb3c64593206137e",
        "type": "ui_text",
        "z": "5f45bc47afcd40d8",
        "group": "3d49467068d0b75e",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "Veg Days",
        "label": "Veg Days",
        "format": "{{msg.payload[0].DaysInVeg}}",
        "layout": "row-center",
        "className": "",
        "x": 1340,
        "y": 200,
        "wires": []
    },
    {
        "id": "9a812cbc8d087ac1",
        "type": "ui_text",
        "z": "5f45bc47afcd40d8",
        "group": "3d49467068d0b75e",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "Experiment",
        "label": "Experiment",
        "format": "{{msg.payload[0].Experiment}}",
        "layout": "row-center",
        "className": "",
        "x": 1350,
        "y": 400,
        "wires": []
    },
    {
        "id": "3a7a14616c467f5a",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Day Type Selector",
        "func": "\nvar veg = msg.payload[0].inVeg;\n\nif (veg == 1) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 900,
        "wires": [
            [
                "b7c66caafc6d19b9"
            ],
            [
                "35567ab3aae793ad"
            ]
        ]
    },
    {
        "id": "7098659871d85c3a",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Veg/Flower Status",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT inVeg FROM Grows WHERE Id = 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 900,
        "wires": [
            [
                "7833518ae6e4856e"
            ]
        ]
    },
    {
        "id": "7833518ae6e4856e",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1130,
        "y": 900,
        "wires": [
            [
                "3a7a14616c467f5a"
            ]
        ]
    },
    {
        "id": "3b27ce91316b7baa",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Veg Count",
        "func": "dataVegDay = msg.payload[0].DaysInVeg;\ndataVegDay = (dataVegDay + 1);\nmsg.topic = \n\"Update Grows SET DaysinVeg = '\" + dataVegDay + \"' Where id = 1;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1930,
        "y": 880,
        "wires": [
            [
                "b349d8a09fbeeea9"
            ]
        ]
    },
    {
        "id": "b7c66caafc6d19b9",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current VegDay",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT DaysInVeg FROM Grows WHERE Id = 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 880,
        "wires": [
            [
                "850b130988eaa1d7"
            ]
        ]
    },
    {
        "id": "35567ab3aae793ad",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current Flower Day",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT DaysInFlower FROM Grows WHERE Id = 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 920,
        "wires": [
            [
                "ff0bf52b3ff9ff7a"
            ]
        ]
    },
    {
        "id": "850b130988eaa1d7",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1710,
        "y": 880,
        "wires": [
            [
                "3b27ce91316b7baa"
            ]
        ]
    },
    {
        "id": "ff0bf52b3ff9ff7a",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1730,
        "y": 920,
        "wires": [
            [
                "d45e6cc1dc39e3e5"
            ]
        ]
    },
    {
        "id": "d45e6cc1dc39e3e5",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Flower Count",
        "func": "dataFlowerDay = msg.payload[0].DaysInFlower;\ndataFlowerDay = (dataFlowerDay + 1);\nmsg.topic = \n\"Update Grows SET DaysinFlower = '\" + dataFlowerDay + \"' Where id = 1;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1940,
        "y": 920,
        "wires": [
            [
                "7fd2639576a52629"
            ]
        ]
    },
    {
        "id": "b349d8a09fbeeea9",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 2150,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "7fd2639576a52629",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 2150,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "0d1cfdc55a902afa",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Day Type Selector",
        "func": "\nvar veg = msg.payload[0].inVeg;\n\nif (veg == 1) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 1100,
        "wires": [
            [
                "5e402aaa9cd1bf3f"
            ],
            [
                "3a1f550450de0bf3"
            ]
        ]
    },
    {
        "id": "7c6a5381ad953acf",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Veg/Flower Status",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT inVeg FROM Grows WHERE Id = 2;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 1100,
        "wires": [
            [
                "f0f9cf5d9f2c7134"
            ]
        ]
    },
    {
        "id": "f0f9cf5d9f2c7134",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1130,
        "y": 1100,
        "wires": [
            [
                "0d1cfdc55a902afa"
            ]
        ]
    },
    {
        "id": "dfb883123fe6004e",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Veg Count",
        "func": "dataVegDay = msg.payload[0].DaysInVeg;\ndataVegDay = (dataVegDay + 1);\nmsg.topic = \n\"Update Grows SET DaysinVeg = '\" + dataVegDay + \"' Where id = 2;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1950,
        "y": 1080,
        "wires": [
            [
                "59d9e61821a073ae"
            ]
        ]
    },
    {
        "id": "5e402aaa9cd1bf3f",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current VegDay",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT DaysInVeg FROM Grows WHERE Id = 2;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1540,
        "y": 1080,
        "wires": [
            [
                "69e9dbf9c7598114"
            ]
        ]
    },
    {
        "id": "3a1f550450de0bf3",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current Flower Day",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT DaysInFlower FROM Grows WHERE Id = 2;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1550,
        "y": 1140,
        "wires": [
            [
                "d618191b317c8cec"
            ]
        ]
    },
    {
        "id": "69e9dbf9c7598114",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1730,
        "y": 1080,
        "wires": [
            [
                "dfb883123fe6004e"
            ]
        ]
    },
    {
        "id": "d618191b317c8cec",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1750,
        "y": 1140,
        "wires": [
            [
                "28fd5a022fc62495"
            ]
        ]
    },
    {
        "id": "28fd5a022fc62495",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Flower Count",
        "func": "dataFlowerDay = msg.payload[0].DaysInFlower;\ndataFlowerDay = (dataFlowerDay + 1);\nmsg.topic = \n\"Update Grows SET DaysinFlower = '\" + dataFlowerDay + \"' Where id = 2;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1960,
        "y": 1140,
        "wires": [
            [
                "88467811bfd17993"
            ]
        ]
    },
    {
        "id": "59d9e61821a073ae",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 2170,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "88467811bfd17993",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 2170,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "89ac7deb67f9015a",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Day Type Selector",
        "func": "\nvar veg = msg.payload[0].inVeg;\n\nif (veg == 1) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 1380,
        "wires": [
            [
                "3ce4da3aedc0e019"
            ],
            [
                "8f374e16e1aced46"
            ]
        ]
    },
    {
        "id": "32e88a60d9a99279",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Veg/Flower Status",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT inVeg FROM Grows WHERE Id = 3;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 1380,
        "wires": [
            [
                "baebfcb4cfda2f73"
            ]
        ]
    },
    {
        "id": "baebfcb4cfda2f73",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1130,
        "y": 1380,
        "wires": [
            [
                "89ac7deb67f9015a"
            ]
        ]
    },
    {
        "id": "d8ae0e9b45a2315c",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Veg Count",
        "func": "dataVegDay = msg.payload[0].DaysInVeg;\ndataVegDay = (dataVegDay + 1);\nmsg.topic = \n\"Update Grows SET DaysinVeg = '\" + dataVegDay + \"' Where id = 3;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1930,
        "y": 1340,
        "wires": [
            [
                "54ccecc2213be5fc"
            ]
        ]
    },
    {
        "id": "3ce4da3aedc0e019",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current VegDay",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT DaysInVeg FROM Grows WHERE Id = 3;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 1340,
        "wires": [
            [
                "defc96c9cc176457"
            ]
        ]
    },
    {
        "id": "8f374e16e1aced46",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current Flower Day",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT DaysInFlower FROM Grows WHERE Id = 3;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 1400,
        "wires": [
            [
                "3988e9c49736eb6a"
            ]
        ]
    },
    {
        "id": "defc96c9cc176457",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1710,
        "y": 1340,
        "wires": [
            [
                "d8ae0e9b45a2315c"
            ]
        ]
    },
    {
        "id": "3988e9c49736eb6a",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1730,
        "y": 1400,
        "wires": [
            [
                "9c2e8750c6f3144e"
            ]
        ]
    },
    {
        "id": "9c2e8750c6f3144e",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Flower Count",
        "func": "dataFlowerDay = msg.payload[0].DaysInFlower;\ndataFlowerDay = (dataFlowerDay + 1);\nmsg.topic = \n\"Update Grows SET DaysinFlower = '\" + dataFlowerDay + \"' Where id = 3;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1940,
        "y": 1400,
        "wires": [
            [
                "92bd82f436d77ae8"
            ]
        ]
    },
    {
        "id": "54ccecc2213be5fc",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 2150,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "92bd82f436d77ae8",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 2150,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "928d5c4bd9a948c7",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update DailyLog",
        "func": "dataGrowDay = msg.payload[0].GrowDay;\nvar GD = parseInt(dataGrowDay );\ndataGrowDay = (dataGrowDay + 1);\ndataIP = '6.6.6.6';\nId = 1;\nmsg.topic = \n\"INSERT INTO DailyLog (Date, Id, GrowDay, Ip) VALUES (now(), \" + Id + \", \" + dataGrowDay + \", \" + \"'\" + dataIP + \"'\" + \");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 1000,
        "wires": [
            [
                "4292ec1c800ae07f"
            ]
        ]
    },
    {
        "id": "4292ec1c800ae07f",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1570,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "c0363627c28f7419",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update DailyLog",
        "func": "dataGrowDay = msg.payload[0].GrowDay;\nvar GD = parseInt(dataGrowDay );\ndataGrowDay = (dataGrowDay + 1);\ndataIP = '6.6.6.6';\nId = 2;\nmsg.topic = \n\"INSERT INTO DailyLog (Date, Id, GrowDay, Ip) VALUES (now(), \" + Id + \", \" + dataGrowDay + \", \" + \"'\" + dataIP + \"'\" + \");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 1220,
        "wires": [
            [
                "c83d637409888f65"
            ]
        ]
    },
    {
        "id": "c83d637409888f65",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1670,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "d03ac5c8cec5b9fd",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update DailyLog",
        "func": "dataGrowDay = msg.payload[0].GrowDay;\nvar GD = parseInt(dataGrowDay );\ndataGrowDay = (dataGrowDay + 1);\ndataIP = '6.6.6.6';\nId = 3;\nmsg.topic = \n\"INSERT INTO DailyLog (Date, Id, GrowDay, Ip) VALUES (now(), \" + Id + \", \" + dataGrowDay + \", \" + \"'\" + dataIP + \"'\" + \");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 1480,
        "wires": [
            [
                "1e54da54037e9025"
            ]
        ]
    },
    {
        "id": "1e54da54037e9025",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1670,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "f1ae60bbe874cb4f",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Check Enclosure 7",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT isDCManaged FROM Grows WHERE Id = 7;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1100,
        "wires": [
            [
                "d93260e53aa86be3"
            ]
        ]
    },
    {
        "id": "d93260e53aa86be3",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 570,
        "y": 1100,
        "wires": [
            [
                "9d00be27bc6838b8"
            ]
        ]
    },
    {
        "id": "9d00be27bc6838b8",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Sec Check",
        "func": "\nvar auth = msg.payload[0].isDCManaged;\n\nif (auth == 1) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 1600,
        "wires": [
            [
                "716a08928ca6bdfb",
                "934b2538e45f75af"
            ],
            []
        ]
    },
    {
        "id": "934b2538e45f75af",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current Grow Day",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT GrowDay FROM Grows WHERE Id = 7;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 1660,
        "wires": [
            [
                "172c99733abe4075"
            ]
        ]
    },
    {
        "id": "172c99733abe4075",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1170,
        "y": 1660,
        "wires": [
            [
                "12edb72cfe64f7d6",
                "19eabaf40f2c07f1"
            ]
        ]
    },
    {
        "id": "12edb72cfe64f7d6",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Grows",
        "func": "dataGrowDay = msg.payload[0].GrowDay;\nvar GD = parseInt(dataGrowDay );\ndataGrowDay = (dataGrowDay + 1);\nmsg.topic = \n\"Update Grows SET GrowDay = '\" + dataGrowDay + \"' Where id = 7;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 1660,
        "wires": [
            [
                "30383fdbb5c18519"
            ]
        ]
    },
    {
        "id": "30383fdbb5c18519",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1670,
        "y": 1660,
        "wires": [
            []
        ]
    },
    {
        "id": "032771c6c3e9a09a",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Day Type Selector",
        "func": "\nvar veg = msg.payload[0].inVeg;\n\nif (veg == 1) {\n    return [msg,null];\n    \n}\nelse {\n    return [null,msg];\n}\n//return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 1600,
        "wires": [
            [
                "2ace557226aa2584"
            ],
            [
                "ab4bb56365c55d07"
            ]
        ]
    },
    {
        "id": "716a08928ca6bdfb",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Veg/Flower Status",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT inVeg FROM Grows WHERE Id = 7;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 1600,
        "wires": [
            [
                "ea33527666f992f0"
            ]
        ]
    },
    {
        "id": "ea33527666f992f0",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1130,
        "y": 1600,
        "wires": [
            [
                "032771c6c3e9a09a"
            ]
        ]
    },
    {
        "id": "4f1a9296652dc921",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Veg Count",
        "func": "dataVegDay = msg.payload[0].DaysInVeg;\ndataVegDay = (dataVegDay + 1);\nmsg.topic = \n\"Update Grows SET DaysinVeg = '\" + dataVegDay + \"' Where id = 7;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1930,
        "y": 1560,
        "wires": [
            [
                "233399b7d4a71d1c"
            ]
        ]
    },
    {
        "id": "2ace557226aa2584",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current VegDay",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT DaysInVeg FROM Grows WHERE Id = 7;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 1560,
        "wires": [
            [
                "eb78954f2ef50c3d"
            ]
        ]
    },
    {
        "id": "ab4bb56365c55d07",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Pull Current Flower Day",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT DaysInFlower FROM Grows WHERE Id = 7;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 1620,
        "wires": [
            [
                "b5f157142601f515"
            ]
        ]
    },
    {
        "id": "eb78954f2ef50c3d",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1710,
        "y": 1560,
        "wires": [
            [
                "4f1a9296652dc921"
            ]
        ]
    },
    {
        "id": "b5f157142601f515",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1730,
        "y": 1620,
        "wires": [
            [
                "df80f043c06e8d14"
            ]
        ]
    },
    {
        "id": "df80f043c06e8d14",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update Flower Count",
        "func": "dataFlowerDay = msg.payload[0].DaysInFlower;\ndataFlowerDay = (dataFlowerDay + 1);\nmsg.topic = \n\"Update Grows SET DaysinFlower = '\" + dataFlowerDay + \"' Where id = 7;\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1940,
        "y": 1620,
        "wires": [
            [
                "fbe14db215cb9dd2"
            ]
        ]
    },
    {
        "id": "233399b7d4a71d1c",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 2150,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "fbe14db215cb9dd2",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 2150,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "19eabaf40f2c07f1",
        "type": "function",
        "z": "5f45bc47afcd40d8",
        "name": "Update DailyLog",
        "func": "dataGrowDay = msg.payload[0].GrowDay;\nvar GD = parseInt(dataGrowDay );\ndataGrowDay = (dataGrowDay + 1);\ndataIP = '6.6.6.6';\nId = 7;\nmsg.topic = \n\"INSERT INTO DailyLog (Date, Id, GrowDay, Ip) VALUES (now(), \" + Id + \", \" + dataGrowDay + \", \" + \"'\" + dataIP + \"'\" + \");\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 1700,
        "wires": [
            [
                "eccd558a199b6bfa"
            ]
        ]
    },
    {
        "id": "eccd558a199b6bfa",
        "type": "mysql",
        "z": "5f45bc47afcd40d8",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1670,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "0cb090598c2472b9",
        "type": "template",
        "z": "2b89647bfa253dc4",
        "name": "Get Grows",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": " \nSELECT id FROM Grows",
        "output": "str",
        "x": 390,
        "y": 240,
        "wires": [
            [
                "4a18ffba139612d9"
            ]
        ]
    },
    {
        "id": "7dcd2cca807d3e82",
        "type": "ui_dropdown",
        "z": "2b89647bfa253dc4",
        "name": "",
        "label": "Select Grow",
        "tooltip": "",
        "place": "",
        "group": "c2a0f213add983ef",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "msg.options",
        "topicType": "str",
        "className": "",
        "x": 890,
        "y": 240,
        "wires": [
            [
                "7056437c70f48497"
            ]
        ]
    },
    {
        "id": "9a3b981fa8e2f9fb",
        "type": "change",
        "z": "2b89647bfa253dc4",
        "name": "change",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "$.payload.id",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 240,
        "wires": [
            [
                "7dcd2cca807d3e82"
            ]
        ]
    },
    {
        "id": "e51e8991b7e10372",
        "type": "comment",
        "z": "2b89647bfa253dc4",
        "name": "Grow Selector 1",
        "info": "",
        "x": 180,
        "y": 180,
        "wires": []
    },
    {
        "id": "4a18ffba139612d9",
        "type": "mysql",
        "z": "2b89647bfa253dc4",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 570,
        "y": 240,
        "wires": [
            [
                "9a3b981fa8e2f9fb",
                "f18eb3e8402546ce"
            ]
        ]
    },
    {
        "id": "7056437c70f48497",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "",
        "func": "data = (msg.payload);\nglobal.set(\"Grow\",data);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "21ea7e11494e8a08",
        "type": "ui_button",
        "z": "2b89647bfa253dc4",
        "name": "",
        "group": "c2a0f213add983ef",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Load Images",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 170,
        "y": 300,
        "wires": [
            [
                "49ee3e88f03c2ab3"
            ]
        ]
    },
    {
        "id": "836a6a831e7e1d7e",
        "type": "debug",
        "z": "2b89647bfa253dc4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1650,
        "y": 180,
        "wires": []
    },
    {
        "id": "9eb4f5cbfefac92e",
        "type": "ui_button",
        "z": "2b89647bfa253dc4",
        "name": "",
        "group": "c2a0f213add983ef",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Load Grows",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 170,
        "y": 240,
        "wires": [
            [
                "0cb090598c2472b9"
            ]
        ]
    },
    {
        "id": "f18eb3e8402546ce",
        "type": "debug",
        "z": "2b89647bfa253dc4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1050,
        "y": 160,
        "wires": []
    },
    {
        "id": "49ee3e88f03c2ab3",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "Historical Images",
        "func": "var grow = global.get(\"Grow\");\ndata = grow;\nvar m = {\n topic : \"SELECT GrowDay FROM DailyLog WHERE id =  \" + \"'\" + data + \"'\" + \"ORDER BY Date DESC;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 300,
        "wires": [
            [
                "01b79e00847aed51"
            ]
        ]
    },
    {
        "id": "01b79e00847aed51",
        "type": "mysql",
        "z": "2b89647bfa253dc4",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 570,
        "y": 300,
        "wires": [
            [
                "4fa436464327d6fd"
            ]
        ]
    },
    {
        "id": "4fa436464327d6fd",
        "type": "change",
        "z": "2b89647bfa253dc4",
        "name": "change",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "$.payload.GrowDay",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 300,
        "wires": [
            [
                "a88dd9520fec8ab2"
            ]
        ]
    },
    {
        "id": "a88dd9520fec8ab2",
        "type": "ui_dropdown",
        "z": "2b89647bfa253dc4",
        "name": "Day",
        "label": "Select Grow Day",
        "tooltip": "",
        "place": "",
        "group": "c2a0f213add983ef",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "msg.options",
        "topicType": "str",
        "className": "",
        "x": 890,
        "y": 300,
        "wires": [
            [
                "49be1426f4d3465f"
            ]
        ]
    },
    {
        "id": "5234f4476edd94be",
        "type": "moment",
        "z": "2b89647bfa253dc4",
        "name": "Date Converter",
        "topic": "Date",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Jersey",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD",
        "locale": "en_GB",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Europe/Jersey",
        "x": 560,
        "y": 360,
        "wires": [
            [
                "ba3b9f1cc9b80d81"
            ]
        ]
    },
    {
        "id": "49be1426f4d3465f",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "Pull Date",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT Date FROM DailyLog WHERE GrowDay =  \" + \"'\" + data + \"'\" + \" ORDER BY DATE DESC LIMIT 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1060,
        "y": 300,
        "wires": [
            [
                "d6bcf1b613c4f257"
            ]
        ]
    },
    {
        "id": "d6bcf1b613c4f257",
        "type": "mysql",
        "z": "2b89647bfa253dc4",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1230,
        "y": 300,
        "wires": [
            [
                "171a6727ca7d6f1f"
            ]
        ]
    },
    {
        "id": "171a6727ca7d6f1f",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "Convert",
        "func": "data = msg.payload[0].Date;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 360,
        "wires": [
            [
                "5234f4476edd94be"
            ]
        ]
    },
    {
        "id": "ba3b9f1cc9b80d81",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "Pull Date",
        "func": "GDate = (msg.payload);\nvar grow = global.get(\"Grow\");\ndata = grow;\nvar m = {\n topic : \"SELECT img FROM ImgDir WHERE Date LIKE  \" + \"'\" + GDate + \"%'\" + \" and id = \" + grow + \" LIMIT 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 360,
        "wires": [
            [
                "c6badc25e61c0641"
            ]
        ]
    },
    {
        "id": "c6badc25e61c0641",
        "type": "mysql",
        "z": "2b89647bfa253dc4",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 930,
        "y": 360,
        "wires": [
            [
                "ea51ee6b6c8087ea"
            ]
        ]
    },
    {
        "id": "ea51ee6b6c8087ea",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "Convert",
        "func": "data = msg.payload[0].img;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "x": 1100,
        "y": 360,
        "wires": [
            [
                "da4af095ce2e1a17"
            ]
        ]
    },
    {
        "id": "da4af095ce2e1a17",
        "type": "ui_template",
        "z": "2b89647bfa253dc4",
        "group": "c2a0f213add983ef",
        "name": "Image",
        "order": 5,
        "width": 0,
        "height": 0,
        "format": "<div height=\"350\" style=\"height: 350px;\">\n<img src=data:image/jpeg;base64,{{msg.payload}} width=\"450\"><br/>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1250,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "46b759444de572f3",
        "type": "template",
        "z": "2b89647bfa253dc4",
        "name": "Get Grows",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": " \nSELECT id FROM Grows",
        "output": "str",
        "x": 350,
        "y": 540,
        "wires": [
            [
                "7a567a4101f4d259"
            ]
        ]
    },
    {
        "id": "ba5e580f1a2f03e9",
        "type": "ui_dropdown",
        "z": "2b89647bfa253dc4",
        "name": "",
        "label": "Select Grow",
        "tooltip": "",
        "place": "",
        "group": "6c0a52262e33dd62",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "msg.options",
        "topicType": "str",
        "className": "",
        "x": 850,
        "y": 540,
        "wires": [
            [
                "9b2f6d79240797e6"
            ]
        ]
    },
    {
        "id": "b38ef5d6ada3d88c",
        "type": "change",
        "z": "2b89647bfa253dc4",
        "name": "change",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "$.payload.id",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 540,
        "wires": [
            [
                "ba5e580f1a2f03e9"
            ]
        ]
    },
    {
        "id": "62509fa9edfaf090",
        "type": "comment",
        "z": "2b89647bfa253dc4",
        "name": "Grow Selector 2",
        "info": "",
        "x": 140,
        "y": 480,
        "wires": []
    },
    {
        "id": "7a567a4101f4d259",
        "type": "mysql",
        "z": "2b89647bfa253dc4",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 530,
        "y": 540,
        "wires": [
            [
                "b38ef5d6ada3d88c",
                "7eddf02b789b779b"
            ]
        ]
    },
    {
        "id": "9b2f6d79240797e6",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "",
        "func": "data = (msg.payload);\nglobal.set(\"Grow\",data);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "d9d957dd7012d155",
        "type": "ui_button",
        "z": "2b89647bfa253dc4",
        "name": "",
        "group": "6c0a52262e33dd62",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Load Images",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 130,
        "y": 600,
        "wires": [
            [
                "2d134268d37a7b9b"
            ]
        ]
    },
    {
        "id": "9e87540856deac3a",
        "type": "ui_button",
        "z": "2b89647bfa253dc4",
        "name": "",
        "group": "6c0a52262e33dd62",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Load Grows",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 130,
        "y": 540,
        "wires": [
            [
                "46b759444de572f3"
            ]
        ]
    },
    {
        "id": "7eddf02b789b779b",
        "type": "debug",
        "z": "2b89647bfa253dc4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1010,
        "y": 460,
        "wires": []
    },
    {
        "id": "2d134268d37a7b9b",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "Historical Images",
        "func": "var grow = global.get(\"Grow\");\ndata = grow;\nvar m = {\n topic : \"SELECT GrowDay FROM DailyLog WHERE id =  \" + \"'\" + data + \"'\" + \"ORDER BY Date DESC;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 600,
        "wires": [
            [
                "70e7458c81284f9c"
            ]
        ]
    },
    {
        "id": "70e7458c81284f9c",
        "type": "mysql",
        "z": "2b89647bfa253dc4",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 530,
        "y": 600,
        "wires": [
            [
                "fc9beac87b236691"
            ]
        ]
    },
    {
        "id": "fc9beac87b236691",
        "type": "change",
        "z": "2b89647bfa253dc4",
        "name": "change",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "$.payload.GrowDay",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 600,
        "wires": [
            [
                "19b6c1cc4bea36f0"
            ]
        ]
    },
    {
        "id": "19b6c1cc4bea36f0",
        "type": "ui_dropdown",
        "z": "2b89647bfa253dc4",
        "name": "Day",
        "label": "Select Grow Day",
        "tooltip": "",
        "place": "",
        "group": "6c0a52262e33dd62",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "msg.options",
        "topicType": "str",
        "className": "",
        "x": 850,
        "y": 600,
        "wires": [
            [
                "4f88ce2cf4c7beaa"
            ]
        ]
    },
    {
        "id": "466dcdc09f88626c",
        "type": "moment",
        "z": "2b89647bfa253dc4",
        "name": "Date Converter",
        "topic": "Date",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Europe/Jersey",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD",
        "locale": "en_GB",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Europe/Jersey",
        "x": 520,
        "y": 660,
        "wires": [
            [
                "2c37088a7730da15"
            ]
        ]
    },
    {
        "id": "4f88ce2cf4c7beaa",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "Pull Date",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT Date FROM DailyLog WHERE GrowDay =  \" + \"'\" + data + \"'\" + \" ORDER BY DATE DESC LIMIT 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1020,
        "y": 600,
        "wires": [
            [
                "9687081b4db48b7e"
            ]
        ]
    },
    {
        "id": "9687081b4db48b7e",
        "type": "mysql",
        "z": "2b89647bfa253dc4",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1190,
        "y": 600,
        "wires": [
            [
                "7323cbcc27d854d2"
            ]
        ]
    },
    {
        "id": "7323cbcc27d854d2",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "Convert",
        "func": "data = msg.payload[0].Date;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 660,
        "wires": [
            [
                "466dcdc09f88626c"
            ]
        ]
    },
    {
        "id": "2c37088a7730da15",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "Pull Date",
        "func": "GDate = (msg.payload);\nvar grow = global.get(\"Grow\");\ndata = grow;\nvar m = {\n topic : \"SELECT img FROM ImgDir WHERE Date LIKE  \" + \"'\" + GDate + \"%'\" + \" and id = \" + grow + \" LIMIT 1;\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 660,
        "wires": [
            [
                "db99f1f81712f43f"
            ]
        ]
    },
    {
        "id": "db99f1f81712f43f",
        "type": "mysql",
        "z": "2b89647bfa253dc4",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 890,
        "y": 660,
        "wires": [
            [
                "5dc69133dec5b208"
            ]
        ]
    },
    {
        "id": "5dc69133dec5b208",
        "type": "function",
        "z": "2b89647bfa253dc4",
        "name": "Convert",
        "func": "data = msg.payload[0].img;\nmsg.payload = data\nvar m = {\n topic : \"( + data + )\"     \n };\nreturn msg;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "x": 1060,
        "y": 660,
        "wires": [
            [
                "5c5b23f0471568b4"
            ]
        ]
    },
    {
        "id": "5c5b23f0471568b4",
        "type": "ui_template",
        "z": "2b89647bfa253dc4",
        "group": "6c0a52262e33dd62",
        "name": "Image",
        "order": 5,
        "width": 0,
        "height": 0,
        "format": "<div height=\"350\" style=\"height: 350px;\">\n<img src=data:image/jpeg;base64,{{msg.payload}} width=\"450\"><br/>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1210,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "73d204a83e2f34da",
        "type": "mysql",
        "z": "157fd334cea74952",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1310,
        "y": 500,
        "wires": [
            [
                "d2350954d33a6cdf",
                "9a8e53d068bdb9c1"
            ]
        ]
    },
    {
        "id": "9a8e53d068bdb9c1",
        "type": "debug",
        "z": "157fd334cea74952",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1490,
        "y": 200,
        "wires": []
    },
    {
        "id": "68dbd3fdd10d8593",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Data Update",
        "func": "\ndataPH = msg.payload.PH;\ndataPPM = msg.payload.PPM;\ndataNotes = msg.payload.Notes;\ndataH2O = msg.payload.H2O;\n\n\nglobal.set(\"PH\",dataPH);\nglobal.set(\"PPM\",dataPPM);\nglobal.set(\"Notes\",dataNotes);\nglobal.set(\"H2O\",dataH2O);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 360,
        "wires": [
            [
                "1480c59edb1971ae"
            ]
        ]
    },
    {
        "id": "1f5f8316b7f5f34c",
        "type": "ui_form",
        "z": "157fd334cea74952",
        "name": "Lab Report",
        "label": "Lab Report",
        "group": "a96af633cd0ad4fc",
        "order": 3,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "PH",
                "value": "PH",
                "type": "number",
                "required": true,
                "rows": null
            },
            {
                "label": "EC",
                "value": "PPM",
                "type": "number",
                "required": true,
                "rows": null
            },
            {
                "label": "Water Consumption",
                "value": "H2O",
                "type": "number",
                "required": false,
                "rows": null
            },
            {
                "label": "Notes",
                "value": "Notes",
                "type": "multiline",
                "required": true,
                "rows": 3
            }
        ],
        "formValue": {
            "PH": "",
            "PPM": "",
            "H2O": "",
            "Notes": ""
        },
        "payload": "",
        "submit": "Update",
        "cancel": "Cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 210,
        "y": 360,
        "wires": [
            [
                "68dbd3fdd10d8593"
            ]
        ]
    },
    {
        "id": "7dcf3f88617b47a0",
        "type": "template",
        "z": "157fd334cea74952",
        "name": "Get Grows",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": " \nSELECT id FROM Grows WHERE isActive = 1",
        "output": "str",
        "x": 390,
        "y": 240,
        "wires": [
            [
                "091a25e304f19a06"
            ]
        ]
    },
    {
        "id": "c0f49dd74ab62730",
        "type": "ui_dropdown",
        "z": "157fd334cea74952",
        "name": "",
        "label": "Select Grow",
        "tooltip": "",
        "place": "",
        "group": "a96af633cd0ad4fc",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "msg.options",
        "topicType": "str",
        "className": "",
        "x": 890,
        "y": 240,
        "wires": [
            [
                "98b6fd1455f19efc",
                "54f9c06197066ea0",
                "63b032feb6a80c1c"
            ]
        ]
    },
    {
        "id": "c92ad3297258ce1b",
        "type": "change",
        "z": "157fd334cea74952",
        "name": "change",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "$.payload.id",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 240,
        "wires": [
            [
                "c0f49dd74ab62730"
            ]
        ]
    },
    {
        "id": "091a25e304f19a06",
        "type": "mysql",
        "z": "157fd334cea74952",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 570,
        "y": 240,
        "wires": [
            [
                "c92ad3297258ce1b"
            ]
        ]
    },
    {
        "id": "98b6fd1455f19efc",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "",
        "func": "data = (msg.payload);\nglobal.set(\"ID\",data);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "b63c8de7fcdf511c",
        "type": "inject",
        "z": "157fd334cea74952",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 240,
        "wires": [
            [
                "7dcf3f88617b47a0"
            ]
        ]
    },
    {
        "id": "8d7915a72df9c960",
        "type": "comment",
        "z": "157fd334cea74952",
        "name": "Get Active Grows",
        "info": "",
        "x": 220,
        "y": 200,
        "wires": []
    },
    {
        "id": "9b2dc82b13d8d2e5",
        "type": "comment",
        "z": "157fd334cea74952",
        "name": "Upload Data",
        "info": "",
        "x": 210,
        "y": 320,
        "wires": []
    },
    {
        "id": "58e285d11554e9ce",
        "type": "ui_template",
        "z": "157fd334cea74952",
        "group": "a96af633cd0ad4fc",
        "name": "",
        "order": 4,
        "width": 6,
        "height": 4,
        "format": "<form action=\"/iantest\" method=\"post\" enctype=\"multipart/form-data\"> \n    <input type=\"file\" name=\"fileToUpload\" id=\"fileToUpload\"> \n    <input type=\"submit\" value=\"Upload\" name=\"submit\"> \n</form>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1400,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "7c30fb48.99cd2c",
        "type": "http in",
        "z": "157fd334cea74952",
        "name": "",
        "url": "/simple",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 910,
        "y": 960,
        "wires": [
            [
                "3153fbd3.203a64"
            ]
        ]
    },
    {
        "id": "3153fbd3.203a64",
        "type": "template",
        "z": "157fd334cea74952",
        "name": "html",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<h1>Upload a file here:</h1>\n\n<form action=\"/iantest\" method=\"POST\" enctype=\"multipart/form-data\">\n    <input type=\"file\" name=\"myFile\" />\n    <input type=\"submit\" value=\"Submit\">\n</form>",
        "output": "str",
        "x": 1250,
        "y": 960,
        "wires": [
            [
                "737e44d2.373a64"
            ]
        ]
    },
    {
        "id": "737e44d2.373a64",
        "type": "http response",
        "z": "157fd334cea74952",
        "name": "",
        "x": 1390,
        "y": 960,
        "wires": []
    },
    {
        "id": "46e01eea.4a46a",
        "type": "comment",
        "z": "157fd334cea74952",
        "name": "Simple",
        "info": "",
        "x": 890,
        "y": 920,
        "wires": []
    },
    {
        "id": "7d8e179a.283e4",
        "type": "http response",
        "z": "157fd334cea74952",
        "name": "",
        "x": 750,
        "y": 800,
        "wires": []
    },
    {
        "id": "25859a94.7d9976",
        "type": "http in",
        "z": "157fd334cea74952",
        "name": "",
        "url": "/iantest",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 230,
        "y": 700,
        "wires": [
            [
                "d7e5df8b.97a4e8"
            ]
        ]
    },
    {
        "id": "d7e5df8b.97a4e8",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "toBase64",
        "func": "msg.name = msg.req.files[0].originalname;\n\nif (msg.req.files[0].mimetype.includes('image')) {\n    msg.payload = msg.req.files[0].buffer.toString('base64');\n} else {\n    msg.payload = msg.req.files[0].buffer.toString();\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 700,
        "wires": [
            [
                "765213a7341a7945",
                "d3048d5c495b3d31"
            ]
        ]
    },
    {
        "id": "a2c3c3e0e874199b",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "toBase64",
        "func": "msg.name = msg.req.files[0].originalname;\n\nif (msg.req.files[0].mimetype.includes('image')) {\n    msg.payload = `<img src=\"data:image/gif;base64,${msg.req.files[0].buffer.toString('base64')}\">`;\n} else {\n    msg.payload = msg.req.files[0].buffer.toString();\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 360,
        "y": 920,
        "wires": [
            [
                "e4685428cafc158d"
            ]
        ]
    },
    {
        "id": "bc997cf8016583f5",
        "type": "http response",
        "z": "157fd334cea74952",
        "name": "",
        "x": 670,
        "y": 920,
        "wires": []
    },
    {
        "id": "e0606f47d666e037",
        "type": "http in",
        "z": "157fd334cea74952",
        "name": "",
        "url": "/bkup",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 190,
        "y": 920,
        "wires": [
            [
                "a2c3c3e0e874199b"
            ]
        ]
    },
    {
        "id": "e4685428cafc158d",
        "type": "template",
        "z": "157fd334cea74952",
        "name": "html",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<p></p>File {{name}} uploaded !</p>\n\n<h2>Contents:</h2>\n\n<pre>\n{{{payload}}}\n</pre>",
        "output": "str",
        "x": 530,
        "y": 920,
        "wires": [
            [
                "bc997cf8016583f5",
                "9a8e53d068bdb9c1"
            ]
        ]
    },
    {
        "id": "765213a7341a7945",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "",
        "func": "data = (msg.payload);\nglobal.set(\"Image\",data);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "734b531eaf9c82a2",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Log Update",
        "func": "var grow = global.get(\"Grow\");\ndata = (msg.payload);\nvar m = {\n topic : \"INSERT INTO GrowLogs (id, Time, event) VALUES (\" + grow + \", NOW(), '\" + data + \"');\"     \n };\nreturn m;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "7d637ffea2b31cdd",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Data Insert",
        "func": "dataId = global.get(\"ID\");\ndataEvent = global.get(\"Event\");\ndataPH = global.get(\"PH\");\ndataPPM = global.get(\"PPM\");\ndataNotes = global.get(\"Notes\");\ndataImage = global.get(\"Image\");\ndataGD = global.get(\"GD\");\ndataH2O = global.get(\"H2O\");\n\n\nmsg.topic = \n/*INSERT INTO Status (Id) VALUES (\" + dataId + \");\"*/\n\"INSERT INTO LabReport (Date, Id, Event, PH, PPM, Notes, GrowDay, H2O, img) VALUES (now(), \" + dataId + \", '\" + dataEvent + \"', '\" + dataPH + \"', '\" + dataPPM + \"', '\" + dataNotes + \"', '\" + dataGD + \"', '\" + dataH2O + \"', '\" + dataImage + \"');\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 500,
        "wires": [
            [
                "73d204a83e2f34da",
                "e17854363dca709d"
            ]
        ]
    },
    {
        "id": "1480c59edb1971ae",
        "type": "debug",
        "z": "157fd334cea74952",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 320,
        "wires": []
    },
    {
        "id": "3e1dbf10a11ceb39",
        "type": "ui_button",
        "z": "157fd334cea74952",
        "name": "Upload Report",
        "group": "a96af633cd0ad4fc",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Upload Report",
        "tooltip": "Upload",
        "color": "",
        "bgcolor": "#85C1E9",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 200,
        "y": 640,
        "wires": [
            [
                "7d637ffea2b31cdd"
            ]
        ]
    },
    {
        "id": "54f9c06197066ea0",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Pull Grow Day",
        "func": "data = (msg.payload);\nvar m = {\n topic : \"SELECT GrowDay FROM Grows WHERE id =  \" + \"'\" + data + \"'\" + \";\"     \n };\nreturn m;\n//INSERT INTO `Perams` (`notify')               VALUES (\"+email\",\"+ temp +\")\"",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 300,
        "wires": [
            [
                "5bfd7ba4805f262b"
            ]
        ]
    },
    {
        "id": "d3048d5c495b3d31",
        "type": "template",
        "z": "157fd334cea74952",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "<h1 style=\"color: #5e9ca0;\">Image Uploaded. Press back to return to Lab Report</h1>",
        "x": 580,
        "y": 800,
        "wires": [
            [
                "7d8e179a.283e4",
                "9a8e53d068bdb9c1"
            ]
        ]
    },
    {
        "id": "63b032feb6a80c1c",
        "type": "template",
        "z": "157fd334cea74952",
        "name": "Get Grows",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": " \nSELECT Event FROM Events",
        "output": "str",
        "x": 890,
        "y": 420,
        "wires": [
            [
                "32b8dc9fe51a66fd"
            ]
        ]
    },
    {
        "id": "868f2f68f837542f",
        "type": "ui_dropdown",
        "z": "157fd334cea74952",
        "name": "",
        "label": "Select Event",
        "tooltip": "",
        "place": "",
        "group": "a96af633cd0ad4fc",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "msg.options",
        "topicType": "str",
        "className": "",
        "x": 1410,
        "y": 420,
        "wires": [
            [
                "bf99f78a18395074"
            ]
        ]
    },
    {
        "id": "1d9d4b7e8e14c3e3",
        "type": "change",
        "z": "157fd334cea74952",
        "name": "change",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "$.payload.Event",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 420,
        "wires": [
            [
                "868f2f68f837542f"
            ]
        ]
    },
    {
        "id": "32b8dc9fe51a66fd",
        "type": "mysql",
        "z": "157fd334cea74952",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1070,
        "y": 420,
        "wires": [
            [
                "1d9d4b7e8e14c3e3"
            ]
        ]
    },
    {
        "id": "6153f3ed7e585415",
        "type": "ui_text_input",
        "z": "157fd334cea74952",
        "name": "",
        "label": "PH",
        "tooltip": "",
        "group": "",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 190,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "ae617f20d551edb9",
        "type": "ui_text_input",
        "z": "157fd334cea74952",
        "name": "",
        "label": "EC",
        "tooltip": "",
        "group": "",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 190,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "179d3cf835ec70aa",
        "type": "ui_text_input",
        "z": "157fd334cea74952",
        "name": "",
        "label": "Notes",
        "tooltip": "",
        "group": "",
        "order": 5,
        "width": "5",
        "height": "3",
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 190,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "bf99f78a18395074",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Data Update",
        "func": "dataEvent = msg.payload\nglobal.set(\"Event\",dataEvent);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1590,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "31a478df318ef505",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Data Update",
        "func": "\ndataPH = msg.payload;\nglobal.set(\"PH\",dataPH);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "1cb73a78b13fecdd",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Data Update",
        "func": "\ndataPPM = msg.payload.PPM;\nglobal.set(\"PPM\",dataPPM);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "b3889d9194f7f1af",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Data Update",
        "func": "dataNotes = msg.payload.Notes;\nglobal.set(\"Notes\",dataNotes);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "2bbd9537cb17edc3",
        "type": "delay",
        "z": "157fd334cea74952",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 700,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "d5ca342ba0b2b257",
        "type": "template",
        "z": "157fd334cea74952",
        "name": "Format HTML",
        "field": "payload",
        "fieldType": "msg",
        "format": "html",
        "syntax": "mustache",
        "template": "\n{{{payload}}}\n",
        "x": 580,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "d2350954d33a6cdf",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Clear Values",
        "func": "\ndataPH = 0;\ndataPPM = 0;\ndataNotes = 0;\ndataImage = 0;\n\n\nglobal.set(\"PH\",dataPH);\nglobal.set(\"PPM\",dataPPM);\nglobal.set(\"Notes\",dataNotes);\nglobal.set(\"Image\",dataImage);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "5bfd7ba4805f262b",
        "type": "mysql",
        "z": "157fd334cea74952",
        "mydb": "c5ee7d10.742bd",
        "name": "AutoBud DB",
        "x": 1290,
        "y": 300,
        "wires": [
            [
                "a899cb864d00fccf",
                "9a8e53d068bdb9c1"
            ]
        ]
    },
    {
        "id": "a899cb864d00fccf",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Set Global to Grow Day",
        "func": "data = (msg.payload[0].GrowDay);\nglobal.set(\"GD\",data);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 300,
        "wires": [
            [
                "9a8e53d068bdb9c1"
            ]
        ]
    },
    {
        "id": "6f0ebb38601751d5",
        "type": "ui_text_input",
        "z": "157fd334cea74952",
        "name": "",
        "label": "H2OUse",
        "tooltip": "",
        "group": "",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 200,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "7ea7a76226777d2a",
        "type": "function",
        "z": "157fd334cea74952",
        "name": "Data Update",
        "func": "\ndataH2O = msg.payload.H2O;\nglobal.set(\"H2O\",dataH2O);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "e17854363dca709d",
        "type": "debug",
        "z": "157fd334cea74952",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1270,
        "y": 580,
        "wires": []
    },
    {
        "id": "a81b68f.57a7498",
        "type": "ui_template",
        "z": "c40b2288adab42ec",
        "group": "bbc3532f.41ca7",
        "name": "Temperature",
        "order": 1,
        "width": "3",
        "height": "2",
        "format": "<iframe  style=\"\n  width:150px; \n  height:65px;\n  overflow: hidden;\n  margin: auto;\n  border: 0px solid green;\n  \"\nframeborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"\n\nsrc=\"http://192.168.1.127:3000/d-solo/0032x0mgk/joshuadashboard?orgId=1&amp;refresh=1m&amp;panelId=4\"  \n  \n  \n></iframe>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1230,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "71a9ded5.a7056",
        "type": "ui_template",
        "z": "c40b2288adab42ec",
        "group": "bbc3532f.41ca7",
        "name": "Humidity",
        "order": 2,
        "width": "3",
        "height": "2",
        "format": "<iframe  style=\"\n  width:150px; \n  height:65px;\n  overflow: hidden;\n  margin: auto;\n  border: 0px solid green;\n  \"\nframeborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"\n\nsrc=\"http://192.168.1.127:3000/d-solo/0032x0mgk/joshuadashboard?orgId=1&amp;refresh=1m&amp;panelId=7\"  \n  \n  \n></iframe>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1220,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "ac6a62b5.39975",
        "type": "ui_button",
        "z": "c40b2288adab42ec",
        "name": "",
        "group": "bbc3532f.41ca7",
        "order": 10,
        "width": "2",
        "height": "1",
        "passthru": true,
        "label": "24 H",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "24",
        "payloadType": "num",
        "topic": "",
        "x": 530,
        "y": 260,
        "wires": [
            [
                "de8150aa.71733"
            ]
        ]
    },
    {
        "id": "2352d27e.94005e",
        "type": "ui_button",
        "z": "c40b2288adab42ec",
        "name": "",
        "group": "bbc3532f.41ca7",
        "order": 9,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "12 H",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "12",
        "payloadType": "num",
        "topic": "",
        "x": 530,
        "y": 300,
        "wires": [
            [
                "de8150aa.71733"
            ]
        ]
    },
    {
        "id": "5bf0d866.9868c",
        "type": "ui_button",
        "z": "c40b2288adab42ec",
        "name": "",
        "group": "bbc3532f.41ca7",
        "order": 8,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "1 H",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 530,
        "y": 220,
        "wires": [
            [
                "de8150aa.71733"
            ]
        ]
    },
    {
        "id": "de8150aa.71733",
        "type": "function",
        "z": "c40b2288adab42ec",
        "name": "SetTimeRange",
        "func": "var p_30d  = 1000*60*60*24*30 ; //30 Days\nvar p_7d  = 1000*60*60*24*7 ; //7 Days\nvar p_1d   =  1000*60*60*24 ; // 1 Day\nvar p_hr = 1000*60*60; //1 Hour\n\nvar d = new Date();\nvar current = d.getTime();\n\n\nmsg.fromdate = \"now-\" + msg.payload +\"h\";\nmsg.enddate = \"now\";\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 760,
        "y": 260,
        "wires": [
            [
                "aeaaadf4.7dcb",
                "9d22cca6.a6c168"
            ]
        ]
    },
    {
        "id": "383e32a3.06bd66",
        "type": "function",
        "z": "c40b2288adab42ec",
        "name": "SetTimeYesterday",
        "func": "var p_30d  = 1000*60*60*24*30 ; //30 Days\nvar p_7d  = 1000*60*60*24*7 ; //7 Days\nvar p_1d   =  1000*60*60*24 ; // 1 Day\nvar p_hr = 1000*60*60; //1 Hour\n\nvar d = new Date();\nvar current = d.getTime();\nvar today0h = d.setHours(0,0,0,0); //Timestamp midnight\n\nmsg.fromdate = today0h - p_1d\nmsg.enddate = today0h\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 750,
        "y": 300,
        "wires": [
            [
                "aeaaadf4.7dcb",
                "9d22cca6.a6c168"
            ]
        ]
    },
    {
        "id": "45bedb8.0b380a4",
        "type": "ui_button",
        "z": "c40b2288adab42ec",
        "name": "",
        "group": "bbc3532f.41ca7",
        "order": 11,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Yesterday",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "yesterday",
        "payloadType": "str",
        "topic": "",
        "x": 520,
        "y": 340,
        "wires": [
            [
                "383e32a3.06bd66"
            ]
        ]
    },
    {
        "id": "7adc3ee7.b03f6",
        "type": "ui_template",
        "z": "c40b2288adab42ec",
        "group": "bbc3532f.41ca7",
        "name": "Page Got Loaded",
        "order": 6,
        "width": 0,
        "height": 0,
        "format": "<script>\n(function() {\n    (function(scope) {\n        scope.send({payload: \"preload\"}); // this gets sent when the view is opened in the browser\n    })(scope);\n})();\n</script>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "templateScope": "local",
        "x": 330,
        "y": 260,
        "wires": [
            [
                "ac6a62b5.39975"
            ]
        ]
    },
    {
        "id": "4ef73409.86b684",
        "type": "ui_template",
        "z": "c40b2288adab42ec",
        "group": "bbc3532f.41ca7",
        "name": "Lux",
        "order": 3,
        "width": "3",
        "height": "2",
        "format": "<iframe  style=\"\n  width:150px; \n  height:65px;\n  overflow: hidden;\n  margin: auto;\n  border: 0px solid green;\n  \"\nframeborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"\n\nsrc=\"http://192.168.1.127:3000/d-solo/0032x0mgk/joshuadashboard?orgId=1&amp;refresh=1m&amp;panelId=8\"  \n  \n  \n></iframe>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1210,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "85217b62.298bb8",
        "type": "ui_template",
        "z": "c40b2288adab42ec",
        "group": "bbc3532f.41ca7",
        "name": "Airpressure",
        "order": 4,
        "width": "3",
        "height": "2",
        "format": "<iframe  style=\"\n  width:150px; \n  height:65px;\n  overflow: hidden;\n  margin: auto;\n  border: 0px solid green;\n  \"\nframeborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"\n\nsrc=\"http://192.168.1.127:3000/d-solo/0032x0mgk/joshuadashboard?orgId=1&amp;refresh=1m&amp;panelId=11\"  \n  \n  \n></iframe>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1230,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "14f5cd67.1fbd6b",
        "type": "ui_template",
        "z": "c40b2288adab42ec",
        "group": "bbc3532f.41ca7",
        "name": "Charttemperatuur",
        "order": 5,
        "width": 0,
        "height": 0,
        "format": "<html>\n<iframe id=\"myFrame\" width=\"600px\" height=\"300px\" style = \"overflow:hidden; margin:auto; border:0px solid green;\"></iframe>\n\n<script>\n//NOTE, more then one chart on a page, rename in the second and following \n//templates the \"myframe\" variable so that every template has a unique name.\n(function(scope) {\n    // watch msg object from Node-RED\n    scope.$watch('msg', function(msg) {\n        // new message received\n        var x = document.getElementById('myFrame');\n        x.setAttribute('src', msg.payload); \n        });\n})(scope);\n</script>\n</html>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1250,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "aeaaadf4.7dcb",
        "type": "function",
        "z": "c40b2288adab42ec",
        "name": "BuildTemplate",
        "func": "//NOTE, more then one chart on a page, rename in the second and following \n//templates the \"myframe\" variable so that every template has a unique name.\n\npanelid=2\n\nmsg.payload= \"http://192.168.1.127:3000/d-solo/0032x0mgk/joshuadashboard-badkamer?orgId=1\"+\n\"&refresh=1m\"+\n\"&theme=dark\"+\n\"&from=\"+ msg.fromdate +\n\"&to=\"+ msg.enddate +\n\"&panelId=\"+panelid\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 980,
        "y": 260,
        "wires": [
            [
                "14f5cd67.1fbd6b"
            ]
        ]
    },
    {
        "id": "4769fee0.9701d8",
        "type": "ui_template",
        "z": "c40b2288adab42ec",
        "group": "bbc3532f.41ca7",
        "name": "Humidity",
        "order": 6,
        "width": 0,
        "height": 0,
        "format": "<html>\n<iframe id=\"myFrame2\" width=\"600px\" height=\"300px\" style = \"overflow:hidden; margin:auto; border:0px solid green;\"></iframe>\n\n<script>\n//NOTE, more then one chart on a page, rename in the second and following \n//templates the \"myframe\" variable so that every template has a unique name.\n(function(scope) {\n    // watch msg object from Node-RED\n    scope.$watch('msg', function(msg) {\n        // new message received\n        var x = document.getElementById('myFrame2');\n        x.setAttribute('src', msg.payload); \n        });\n})(scope);\n</script>\n</html>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1260,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "9d22cca6.a6c168",
        "type": "function",
        "z": "c40b2288adab42ec",
        "name": "BuildTemplate",
        "func": "//NOTE, more then one chart on a page, rename in the second and following \n//templates the \"myframe\" variable so that every template has a unique name.\n\npanelid=4\n\nmsg.payload= \"http://localhost:3000/d/ZdyHfKmRz/grow-data?orgId=1\"+\n\"&refresh=1m\"+\n\"&theme=dark\"+\n\"&from=\"+ msg.fromdate +\n\"&to=\"+ msg.enddate +\n\"&panelId=\"+panelid\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 300,
        "wires": [
            [
                "4769fee0.9701d8"
            ]
        ]
    },
    {
        "id": "a4654193.3b49e8",
        "type": "function",
        "z": "c40b2288adab42ec",
        "name": "SetTimeTodaySofar",
        "func": "msg.fromdate = \"now/d\";\nmsg.enddate = \"now\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 750,
        "y": 380,
        "wires": [
            [
                "aeaaadf4.7dcb",
                "9d22cca6.a6c168"
            ]
        ]
    },
    {
        "id": "556d9df.cb16f64",
        "type": "ui_button",
        "z": "c40b2288adab42ec",
        "name": "",
        "group": "bbc3532f.41ca7",
        "order": 11,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Today",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "yesterday",
        "payloadType": "str",
        "topic": "",
        "x": 530,
        "y": 380,
        "wires": [
            [
                "a4654193.3b49e8"
            ]
        ]
    }
]
